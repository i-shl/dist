import{b1 as Be,aZ as Re,aH as Ae,aV as Le,aW as De,d as F,Q as Y,q as J,H as ze,r as N,V as oe,x as V,aa as R,A as Q,y as X,o as Oe,C as O,B as $e,a as f,R as T,ap as Ne,S as Ge,K as j,ac as G,n as A,p as Fe,G as M,a5 as K,a4 as We,aU as ae,i as qe,a1 as U,aq as je,aO as He,b2 as Ke,F as re,U as Ue,Y as Ye,a6 as ce,m as se,T as Je,$ as Qe}from"./index-CPhkr4Pe.js";import{C as Xe,c as Ze}from"./index-0BjzaYNX.js";import{u as pe}from"./use-id-B0TxtryC.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"3a9292ca7a3904f73afa4ca8b96ef6af9893536b"}}catch{}})();try{(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},n=new e.Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="1ddf27f4-bcfc-4230-a357-da00d2cc10c8",e._sentryDebugIdIdentifier="sentry-dbid-1ddf27f4-bcfc-4230-a357-da00d2cc10c8")})()}catch{}function ue(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function et(e,n){if(ue(e)){if(n.required)return!1;if(n.validateEmpty===!1)return!0}return!(n.pattern&&!n.pattern.test(String(e)))}function tt(e,n){return new Promise(o=>{const s=n.validator(e,n);if(De(s)){s.then(o);return}o(s)})}function le(e,n){const{message:o}=n;return Le(o)?o(e,n):o||""}function nt({target:e}){e.composing=!0}function ie({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function at(e,n){const o=Be();e.style.height="auto";let s=e.scrollHeight;if(Re(n)){const{maxHeight:a,minHeight:r}=n;a!==void 0&&(s=Math.min(s,a)),r!==void 0&&(s=Math.max(s,r))}s&&(e.style.height=`${s}px`,Ae(o))}function lt(e,n){return e==="number"&&(e="text",n??(n="decimal")),e==="digit"&&(e="tel",n??(n="numeric")),{type:e,inputmode:n}}function $(e){return[...e].length}function H(e,n){return[...e].slice(0,n).join("")}const[it,k]=J("field"),ot={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:M,max:Number,min:Number,formatter:Function,clearIcon:A("clear"),modelValue:Fe(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:A("focus"),formatTrigger:A("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},inputmode:String},rt=Y({},Ze,ot,{rows:M,type:A("text"),rules:Array,autosize:[Boolean,Object],labelWidth:M,labelClass:K,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var ct=F({name:it,props:rt,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:n,slots:o}){const s=pe(),a=ze({status:"unvalidated",focused:!1,validateMessage:""}),r=N(),I=N(),u=N(),{parent:d}=oe(We),v=()=>{var t;return String((t=e.modelValue)!=null?t:"")},g=t=>{if(T(e[t]))return e[t];if(d&&T(d.props[t]))return d.props[t]},h=V(()=>{const t=g("readonly");if(e.clearable&&!t){const l=v()!=="",i=e.clearTrigger==="always"||e.clearTrigger==="focus"&&a.focused;return l&&i}return!1}),c=V(()=>u.value&&o.input?u.value():e.modelValue),w=V(()=>{var t;const l=g("required");return l==="auto"?(t=e.rules)==null?void 0:t.some(i=>i.required):l}),y=t=>t.reduce((l,i)=>l.then(()=>{if(a.status==="failed")return;let{value:m}=c;if(i.formatter&&(m=i.formatter(m,i)),!et(m,i)){a.status="failed",a.validateMessage=le(m,i);return}if(i.validator)return ue(m)&&i.validateEmpty===!1?void 0:tt(m,i).then(b=>{b&&typeof b=="string"?(a.status="failed",a.validateMessage=b):b===!1&&(a.status="failed",a.validateMessage=le(m,i))})}),Promise.resolve()),C=()=>{a.status="unvalidated",a.validateMessage=""},B=()=>n("endValidate",{status:a.status,message:a.validateMessage}),_=(t=e.rules)=>new Promise(l=>{C(),t?(n("startValidate"),y(t).then(()=>{a.status==="failed"?(l({name:e.name,message:a.validateMessage}),B()):(a.status="passed",l(),B())})):l()}),W=t=>{if(d&&e.rules){const{validateTrigger:l}=d.props,i=ae(l).includes(t),m=e.rules.filter(b=>b.trigger?ae(b.trigger).includes(t):i);m.length&&_(m)}},me=t=>{var l;const{maxlength:i}=e;if(T(i)&&$(t)>+i){const m=v();if(m&&$(m)===+i)return m;const b=(l=r.value)==null?void 0:l.selectionEnd;if(a.focused&&b){const E=[...t],P=E.length-+i;return E.splice(b-P,P),E.join("")}return H(t,+i)}return t},L=(t,l="onChange")=>{var i,m;const b=t;t=me(t);const E=b.length-t.length;if(e.type==="number"||e.type==="digit"){const x=e.type==="number";if(t=Ne(t,x,x),l==="onBlur"&&t!==""&&(e.min!==void 0||e.max!==void 0)){const S=Ge(+t,(i=e.min)!=null?i:-1/0,(m=e.max)!=null?m:1/0);+t!==S&&(t=S.toString())}}let P=0;if(e.formatter&&l===e.formatTrigger){const{formatter:x,maxlength:S}=e;if(t=x(t),T(S)&&$(t)>+S&&(t=H(t,+S)),r.value&&a.focused){const{selectionEnd:z}=r.value,ne=H(b,z);P=x(ne).length-ne.length}}if(r.value&&r.value.value!==t)if(a.focused){let{selectionStart:x,selectionEnd:S}=r.value;if(r.value.value=t,T(x)&&T(S)){const z=t.length;E?(x-=E,S-=E):P&&(x+=P,S+=P),r.value.setSelectionRange(Math.min(x,z),Math.min(S,z))}}else r.value.value=t;t!==e.modelValue&&n("update:modelValue",t)},be=t=>{t.target.composing||L(t.target.value)},q=()=>{var t;return(t=r.value)==null?void 0:t.blur()},Z=()=>{var t;return(t=r.value)==null?void 0:t.focus()},D=()=>{const t=r.value;e.type==="textarea"&&e.autosize&&t&&at(t,e.autosize)},he=t=>{a.focused=!0,n("focus",t),O(D),g("readonly")&&q()},ve=t=>{a.focused=!1,L(v(),"onBlur"),n("blur",t),!g("readonly")&&(W("onBlur"),O(D),je())},p=t=>n("clickInput",t),ke=t=>n("clickLeftIcon",t),ye=t=>n("clickRightIcon",t),Ce=t=>{j(t),n("update:modelValue",""),n("clear",t)},ee=V(()=>{if(typeof e.error=="boolean")return e.error;if(d&&d.props.showError&&a.status==="failed")return!0}),Se=V(()=>{const t=g("labelWidth"),l=g("labelAlign");if(t&&l!=="top")return{width:R(t)}}),Ve=t=>{t.keyCode===13&&(!(d&&d.props.submitOnEnter)&&e.type!=="textarea"&&j(t),e.type==="search"&&q()),n("keypress",t)},te=()=>e.id||`${s}-input`,xe=()=>a.status,Ie=()=>{const t=k("control",[g("inputAlign"),{error:ee.value,custom:!!o.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(o.input)return f("div",{class:t,onClick:p},[o.input()]);const l={id:te(),ref:r,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:t,disabled:g("disabled"),readonly:g("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?`${s}-label`:void 0,"data-allow-mismatch":"attribute",onBlur:ve,onFocus:he,onInput:be,onClick:p,onChange:ie,onKeypress:Ve,onCompositionend:ie,onCompositionstart:nt};return e.type==="textarea"?f("textarea",U(l,{inputmode:e.inputmode}),null):f("input",U(lt(e.type,e.inputmode),l),null)},we=()=>{const t=o["left-icon"];if(e.leftIcon||t)return f("div",{class:k("left-icon"),onClick:ke},[t?t():f(G,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},Ee=()=>{const t=o["right-icon"];if(e.rightIcon||t)return f("div",{class:k("right-icon"),onClick:ye},[t?t():f(G,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},Pe=()=>{if(e.showWordLimit&&e.maxlength){const t=$(v());return f("div",{class:k("word-limit")},[f("span",{class:k("word-num")},[t]),qe("/"),e.maxlength])}},_e=()=>{if(d&&d.props.showErrorMessage===!1)return;const t=e.errorMessage||a.validateMessage;if(t){const l=o["error-message"],i=g("errorMessageAlign");return f("div",{class:k("error-message",i)},[l?l({message:t}):t])}},Te=()=>{const t=g("labelWidth"),l=g("labelAlign"),i=g("colon")?":":"";if(o.label)return[o.label(),i];if(e.label)return f("label",{id:`${s}-label`,for:o.input?void 0:te(),"data-allow-mismatch":"attribute",onClick:m=>{j(m),Z()},style:l==="top"&&t?{width:R(t)}:void 0},[e.label+i])},Me=()=>[f("div",{class:k("body")},[Ie(),h.value&&f(G,{ref:I,name:e.clearIcon,class:k("clear")},null),Ee(),o.button&&f("div",{class:k("button")},[o.button()])]),Pe(),_e()];return Q({blur:q,focus:Z,validate:_,formValue:c,resetValidation:C,getValidationStatus:xe}),He(Ke,{customValue:u,resetValidation:C,validateWithTrigger:W}),X(()=>e.modelValue,()=>{L(v()),C(),W("onChange"),O(D)}),Oe(()=>{L(v(),e.formatTrigger),O(D)}),$e("touchstart",Ce,{target:V(()=>{var t;return(t=I.value)==null?void 0:t.$el})}),()=>{const t=g("disabled"),l=g("labelAlign"),i=we(),m=()=>{const b=Te();return l==="top"?[i,b].filter(Boolean):b||[]};return f(Xe,{size:e.size,class:k({error:ee.value,disabled:t,[`label-${l}`]:l}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:Se.value,valueClass:k("value"),titleClass:[k("label",[l,{required:w.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:i&&l!=="top"?()=>i:null,title:m,value:Me,extra:o.extra})}}});const yt=re(ct),[de,st]=J("checkbox-group"),ut={max:M,shape:A("round"),disabled:Boolean,iconSize:M,direction:String,modelValue:Ue(),checkedColor:String},fe=Symbol(de);var Ct=F({name:de,props:ut,emits:["change","update:modelValue"],setup(e,{emit:n,slots:o}){const{children:s,linkChildren:a}=Ye(fe),r=u=>n("update:modelValue",u),I=(u={})=>{typeof u=="boolean"&&(u={checked:u});const{checked:d,skipDisabled:v}=u,h=s.filter(c=>c.props.bindGroup?c.props.disabled&&v?c.checked.value:d??!c.checked.value:!1).map(c=>c.name);r(h)};return X(()=>e.modelValue,u=>n("change",u)),Q({toggleAll:I}),ce(()=>e.modelValue),a({props:e,updateValue:r}),()=>{var u;return f("div",{class:st([e.direction])},[(u=o.default)==null?void 0:u.call(o)])}}});const ge={name:K,disabled:Boolean,iconSize:M,modelValue:K,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var dt=F({props:Y({},ge,{bem:Je(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:se,indeterminate:{type:Boolean,default:null}}),emits:["click","toggle"],setup(e,{emit:n,slots:o}){const s=N(),a=c=>{if(e.parent&&e.bindGroup)return e.parent.props[c]},r=V(()=>{if(e.parent&&e.bindGroup){const c=a("disabled")||e.disabled;if(e.role==="checkbox"){const w=a("modelValue").length,y=a("max"),C=y&&w>=+y;return c||C&&!e.checked}return c}return e.disabled}),I=V(()=>a("direction")),u=V(()=>{const c=e.checkedColor||a("checkedColor");if(c&&(e.checked||e.indeterminate)&&!r.value)return{borderColor:c,backgroundColor:c}}),d=V(()=>e.shape||a("shape")||"round"),v=c=>{const{target:w}=c,y=s.value,C=y===w||y?.contains(w);!r.value&&(C||!e.labelDisabled)&&n("toggle"),n("click",c)},g=()=>{var c,w;const{bem:y,checked:C,indeterminate:B}=e,_=e.iconSize||a("iconSize");return f("div",{ref:s,class:y("icon",[d.value,{disabled:r.value,checked:C,indeterminate:B}]),style:d.value!=="dot"?{fontSize:R(_)}:{width:R(_),height:R(_),borderColor:(c=u.value)==null?void 0:c.borderColor}},[o.icon?o.icon({checked:C,disabled:r.value}):d.value!=="dot"?f(G,{name:B?"minus":"success",style:u.value},null):f("div",{class:y("icon--dot__icon"),style:{backgroundColor:(w=u.value)==null?void 0:w.backgroundColor}},null)])},h=()=>{const{checked:c}=e;if(o.default)return f("span",{class:e.bem("label",[e.labelPosition,{disabled:r.value}])},[o.default({checked:c,disabled:r.value})])};return()=>{const c=e.labelPosition==="left"?[h(),g()]:[g(),h()];return f("div",{role:e.role,class:e.bem([{disabled:r.value,"label-disabled":e.labelDisabled},I.value]),tabindex:r.value?void 0:0,"aria-checked":e.checked,onClick:v},[c])}}});const[ft,gt]=J("checkbox"),mt=Y({},ge,{shape:String,bindGroup:se,indeterminate:{type:Boolean,default:null}});var bt=F({name:ft,props:mt,emits:["change","update:modelValue"],setup(e,{emit:n,slots:o}){const{parent:s}=oe(fe),a=u=>{const{name:d}=e,{max:v,modelValue:g}=s.props,h=g.slice();if(u)!(v&&h.length>=+v)&&!h.includes(d)&&(h.push(d),e.bindGroup&&s.updateValue(h));else{const c=h.indexOf(d);c!==-1&&(h.splice(c,1),e.bindGroup&&s.updateValue(h))}},r=V(()=>s&&e.bindGroup?s.props.modelValue.indexOf(e.name)!==-1:!!e.modelValue),I=(u=!r.value)=>{s&&e.bindGroup?a(u):n("update:modelValue",u),e.indeterminate!==null&&n("change",u)};return X(()=>e.modelValue,u=>{e.indeterminate===null&&n("change",u)}),Q({toggle:I,props:e,checked:r}),ce(()=>e.modelValue),()=>f(dt,U({bem:gt,role:"checkbox",parent:s,checked:r.value,onToggle:I},e),Qe(o,["default","icon"]))}});const St=re(bt);export{St as C,yt as F,dt as a,ge as c,ot as f,Ct as s};
