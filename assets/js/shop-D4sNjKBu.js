import{d as x,u as k,A as p,G as w,c as d,a as t,t as c,b as n,g as _,a1 as b,o as l}from"./index-4XfgPWr4.js";import{s as B,a as S,t as U,b as C,c as I,d as M}from"./webviewMessage-DKK56FPY.js";(function(){try{var a=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};a.SENTRY_RELEASE={id:"051ca6428b97c6d36ca483b6bd6aaeed95b441f8"}}catch{}})();try{(function(){var a=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},s=new a.Error().stack;s&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[s]="6fb2ad66-915b-4c9a-94c4-e84f23337176",a._sentryDebugIdIdentifier="sentry-dbid-6fb2ad66-915b-4c9a-94c4-e84f23337176")})()}catch{}const R={style:{"margin-top":"20px"}},E={style:{"min-height":"24px",color:"#666","font-size":"14px"}},N={key:0},A={key:1},D={style:{"margin-top":"30px"}},L={style:{"min-height":"24px",color:"#666","font-size":"14px"}},P={key:0},V=x({name:"ShopPage",__name:"shop",setup(a){const s=k(),i=p(""),u=p(""),e=p("");async function g(){i.value="",await B("shop")?(i.value="✅ 测试消息已发送",setTimeout(()=>{i.value=""},3e3)):(i.value="❌ 发送失败",setTimeout(()=>{i.value=""},3e3))}async function f(){u.value="",await S({action:"custom",page:"shop",data:{message:'这是一条来自"商城"页面的自定义消息',timestamp:Date.now()}})?(u.value="✅ 自定义消息已发送",setTimeout(()=>{u.value=""},3e3)):(u.value="❌ 发送失败",setTimeout(()=>{u.value=""},3e3))}function v(){e.value="";const o=U("/order");e.value=o?"✅ uni.navigateTo 调用成功":"❌ uni.navigateTo 调用失败（查看控制台）",setTimeout(()=>{e.value=""},3e3)}function y(){e.value="";const o=C("/mine");e.value=o?"✅ uni.redirectTo 调用成功":"❌ uni.redirectTo 调用失败（查看控制台）",setTimeout(()=>{e.value=""},3e3)}function h(){e.value="";const o=I("/home");e.value=o?"✅ uni.reLaunch 调用成功":"❌ uni.reLaunch 调用失败（查看控制台）",setTimeout(()=>{e.value=""},3e3)}function m(){e.value="";const o=M("/home");e.value=o?"✅ uni.switchTab 调用成功":"❌ uni.switchTab 调用失败（查看控制台）",setTimeout(()=>{e.value=""},3e3)}function T(){e.value="";const o=window.uni;if(!o||typeof o.navigateBack!="function"){e.value="❌ uni.navigateBack 不可用，请等待 UniAppJSBridgeReady 事件",console.warn("uni.navigateBack 不可用，请等待 UniAppJSBridgeReady 事件"),setTimeout(()=>{e.value=""},3e3);return}try{o.navigateBack({delta:1}),e.value="✅ uni.navigateBack 调用成功",console.log("✅ uni.navigateBack 调用成功"),setTimeout(()=>{e.value=""},3e3)}catch(r){e.value="❌ uni.navigateBack 调用失败（查看控制台）",console.error("❌ uni.navigateBack 调用失败:",r),setTimeout(()=>{e.value=""},3e3)}}return w(()=>{}),(o,r)=>(l(),d("div",null,[r[1]||(r[1]=t("h1",null,"商城",-1)),t("div",null," 当前环境："+c(n(s).envInfo?n(_)(n(s).envInfo):"未知"),1),t("div",null,"Token信息："+c(n(s).token||"未登录"),1),t("div",R,[t("div",{style:{display:"flex",gap:"10px","flex-wrap":"wrap","margin-bottom":"10px"}},[t("button",{type:"button",style:{padding:"10px 20px","background-color":"#007aff",color:"white",border:"none","border-radius":"4px",cursor:"pointer"},onClick:g}," 发送测试消息 "),t("button",{type:"button",style:{padding:"10px 20px","background-color":"#34c759",color:"white",border:"none","border-radius":"4px",cursor:"pointer"},onClick:f}," 发送自定义消息 ")]),t("div",E,[n(i)?(l(),d("div",N,c(n(i)),1)):b("",!0),n(u)?(l(),d("div",A,c(n(u)),1)):b("",!0)])]),t("div",D,[r[0]||(r[0]=t("h3",{style:{"margin-bottom":"10px"}},"uni API 测试",-1)),t("div",{style:{display:"flex",gap:"10px","flex-wrap":"wrap","margin-bottom":"10px"}},[t("button",{type:"button",style:{padding:"10px 20px","background-color":"#ff9500",color:"white",border:"none","border-radius":"4px",cursor:"pointer"},onClick:v}," navigateTo "),t("button",{type:"button",style:{padding:"10px 20px","background-color":"#ff3b30",color:"white",border:"none","border-radius":"4px",cursor:"pointer"},onClick:y}," redirectTo "),t("button",{type:"button",style:{padding:"10px 20px","background-color":"#af52de",color:"white",border:"none","border-radius":"4px",cursor:"pointer"},onClick:h}," reLaunch "),t("button",{type:"button",style:{padding:"10px 20px","background-color":"#5856d6",color:"white",border:"none","border-radius":"4px",cursor:"pointer"},onClick:m}," switchTab "),t("button",{type:"button",style:{padding:"10px 20px","background-color":"#007aff",color:"white",border:"none","border-radius":"4px",cursor:"pointer"},onClick:T}," navigateBack ")]),t("div",L,[n(e)?(l(),d("div",P,c(n(e)),1)):b("",!0)])])]))}});export{V as default};
