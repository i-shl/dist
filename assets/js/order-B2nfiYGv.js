import{d as g,u as m,A as y,G as v,c,a,a1 as _,t as d,b as r,g as T,o as l}from"./index-Qmh0gw4D.js";import{p as i,M as u}from"./postMessage-CxyV-Gh_.js";import{_ as w}from"./_plugin-vue_export-helper-BDlrRrfY.js";(function(){try{var n=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};n.SENTRY_RELEASE={id:"051ca6428b97c6d36ca483b6bd6aaeed95b441f8"}}catch{}})();try{(function(){var n=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new n.Error().stack;t&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[t]="1a4c043a-afb4-4877-9a41-dd232049171b",n._sentryDebugIdIdentifier="sentry-dbid-1a4c043a-afb4-4877-9a41-dd232049171b")})()}catch{}const k={class:"page-container"},h={class:"info-section"},E={key:0,class:"status-section"},I=g({name:"OrderPage",__name:"order",setup(n){const t=m(),e=y("");async function f(){try{e.value="发送中...",await i({action:u.TEST,page:"order",timestamp:Date.now(),message:"来自订单页面的测试消息"}),e.value="消息发送成功！"}catch(s){e.value=`发送失败: ${s.message}`}}async function p(){try{e.value="发送订单数据...",await i({action:"orderUpdate",data:{orderId:"ORD202601090001",status:"paid",amount:199.99,items:["商品A","商品B"]},source:"order-page"}),e.value="订单数据发送成功！"}catch(s){e.value=`发送失败: ${s.message}`}}async function b(){try{e.value="发送刷新Token请求...",await i({action:u.REFRESH_TOKEN,reason:"订单页面请求刷新",from:"order"}),e.value="刷新Token请求已发送！"}catch(s){e.value=`发送失败: ${s.message}`}}return v(()=>{}),(s,o)=>(l(),c("div",k,[o[1]||(o[1]=a("h1",null,"订单",-1)),a("div",h,[a("div",null," 当前环境："+d(r(t).envInfo?r(T)(r(t).envInfo):"未知"),1),a("div",null,"Token信息："+d(r(t).token||"未登录"),1)]),a("div",{class:"button-section"},[o[0]||(o[0]=a("h3",null,"向小程序发送消息",-1)),a("button",{class:"btn btn-primary",onClick:f}," 发送测试消息 "),a("button",{class:"btn btn-secondary",onClick:p}," 发送订单数据 "),a("button",{class:"btn btn-warning",onClick:b}," 请求刷新Token ")]),e.value?(l(),c("div",E,[a("p",null,"状态："+d(e.value),1)])):_("",!0)]))}}),M=w(I,[["__scopeId","data-v-d18e057c"]]);export{M as default};
