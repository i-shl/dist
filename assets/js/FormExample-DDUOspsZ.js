import{q as Z,Q as ne,R as nt,S as Oe,d as K,T as De,U as Ve,G as Q,r as H,I as it,x as E,V as st,A as fe,W as ea,B as Le,a as v,K as se,X as ke,y as j,Y as We,Z as ta,O as $e,_ as aa,$ as oe,m as U,p as X,a0 as na,L as oa,C as Ie,a1 as be,n as ae,a2 as la,a3 as ue,F as ee,a4 as ra,a5 as ia,a6 as je,a7 as Bt,a8 as ct,a9 as sa,aa as Ee,D as ye,ab as ca,ac as Me,ad as Ae,ae as ua,af as Rt,ag as Ge,J as da,ah as Se,ai as ft,o as ma,aj as ha,ak as $t,al as Ot,am as ga,an as Xe,ao as Ze,ap as bt,aq as va,ar as fa,as as ba,H as yt,M as Y,w as L,f as z,c as pe,b as Ce,P as Je,j as xe,i as Te,t as Ne,N as Qe,at as ya,au as Ca,av as wa,u as ka,e as xa,aw as pa}from"./index-CPhkr4Pe.js";import{N as Da}from"./index-B8diGhUx.js";import{U as Sa}from"./index-BibwGFaV.js";import{S as Ta}from"./index-B0uky2w8.js";import{s as _a,a as Va,c as Ma,F as It,f as Et,C as Pa}from"./index-CH4cnJKB.js";import"./index-Da1tENLS.js";import{T as At,a as Ft,u as ut}from"./index-NrckvrUS.js";import"./index-0BjzaYNX.js";import{u as Ba}from"./use-id-B0TxtryC.js";import{B as Fe}from"./index-CmK3HOlw.js";import{u as Ra}from"./use-placeholder-2GXY53DY.js";import{_ as Nt}from"./_plugin-vue_export-helper-BM5uEb7X.js";import"./index-CGflKc6t.js";import"./use-route-CM-qhGoy.js";import"./use-tab-status-S6M36NoX.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"3a9292ca7a3904f73afa4ca8b96ef6af9893536b"}}catch{}})();try{(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},n=new e.Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="a234b9ff-d47b-4991-9caa-fd60830bcf3e",e._sentryDebugIdIdentifier="sentry-dbid-a234b9ff-d47b-4991-9caa-fd60830bcf3e")})()}catch{}const[$a,ge,Ct]=Z("picker"),Ht=e=>e.find(n=>!n.disabled)||e[0];function Oa(e,n){const o=e[0];if(o){if(Array.isArray(o))return"multiple";if(n.children in o)return"cascade"}return"default"}function Ye(e,n){n=Oe(n,0,e.length);for(let o=n;o<e.length;o++)if(!e[o].disabled)return o;for(let o=n-1;o>=0;o--)if(!e[o].disabled)return o;return 0}const wt=(e,n,o)=>n!==void 0&&e.some(l=>l[o.value]===n);function ot(e,n,o){const l=e.findIndex(h=>h[o.value]===n),u=Ye(e,l);return e[u]}function Ia(e,n,o){const l=[];let u={[n.children]:e},h=0;for(;u&&u[n.children];){const c=u[n.children],T=o.value[h];if(u=nt(T)?ot(c,T,n):void 0,!u&&c.length){const D=Ht(c)[n.value];u=ot(c,D,n)}h++,l.push(c)}return l}function Ea(e){const{transform:n}=window.getComputedStyle(e),o=n.slice(7,n.length-1).split(", ")[5];return Number(o)}function Aa(e){return ne({text:"text",value:"value",children:"children"},e)}const kt=200,xt=300,Fa=15,[zt,et]=Z("picker-column"),qt=Symbol(zt);var Na=K({name:zt,props:{value:Q,fields:De(Object),options:Ve(),readonly:Boolean,allowHtml:Boolean,optionHeight:De(Number),swipeDuration:De(Q),visibleOptionNum:De(Q)},emits:["change","clickOption","scrollInto"],setup(e,{emit:n,slots:o}){let l,u,h,c,T;const D=H(),w=H(),M=H(0),g=H(0),y=it(),k=()=>e.options.length,V=()=>e.optionHeight*(+e.visibleOptionNum-1)/2,I=b=>{let s=Ye(e.options,b);const i=-s*e.optionHeight,f=()=>{s>k()-1&&(s=Ye(e.options,b));const P=e.options[s][e.fields.value];P!==e.value&&n("change",P)};l&&i!==M.value?T=f:f(),M.value=i},S=()=>e.readonly||!e.options.length,B=b=>{l||S()||(T=null,g.value=kt,I(b),n("clickOption",e.options[b]))},R=b=>Oe(Math.round(-b/e.optionHeight),0,k()-1),C=E(()=>R(M.value)),r=(b,s)=>{const i=Math.abs(b/s);b=M.value+i/.003*(b<0?-1:1);const f=R(b);g.value=+e.swipeDuration,I(f)},a=()=>{l=!1,g.value=0,T&&(T(),T=null)},d=b=>{if(!S()){if(y.start(b),l){const s=Ea(w.value);M.value=Math.min(0,s-V())}g.value=0,u=M.value,h=Date.now(),c=u,T=null}},x=b=>{if(S())return;y.move(b),y.isVertical()&&(l=!0,se(b,!0));const s=Oe(u+y.deltaY.value,-(k()*e.optionHeight),e.optionHeight),i=R(s);i!==C.value&&n("scrollInto",e.options[i]),M.value=s;const f=Date.now();f-h>xt&&(h=f,c=s)},m=()=>{if(S())return;const b=M.value-c,s=Date.now()-h;if(s<xt&&Math.abs(b)>Fa){r(b,s);return}const f=R(M.value);g.value=kt,I(f),setTimeout(()=>{l=!1},0)},O=()=>{const b={height:`${e.optionHeight}px`};return e.options.map((s,i)=>{const f=s[e.fields.text],{disabled:P}=s,F=s[e.fields.value],q={role:"button",style:b,tabindex:P?-1:0,class:[et("item",{disabled:P,selected:F===e.value}),s.className],onClick:()=>B(i)},le={class:"van-ellipsis",[e.allowHtml?"innerHTML":"textContent"]:f};return v("li",q,[o.option?o.option(s,i):v("div",le,null)])})};return st(qt),fe({stopMomentum:a}),ea(()=>{const b=l?Math.floor(-M.value/e.optionHeight):e.options.findIndex(f=>f[e.fields.value]===e.value),s=Ye(e.options,b),i=-s*e.optionHeight;l&&s<b&&a(),M.value=i}),Le("touchmove",x,{target:D}),()=>v("div",{ref:D,class:et(),onTouchstartPassive:d,onTouchend:m,onTouchcancel:m},[v("ul",{ref:w,style:{transform:`translate3d(0, ${M.value+V()}px, 0)`,transitionDuration:`${g.value}ms`,transitionProperty:g.value?"all":"none"},class:et("wrapper"),onTransitionend:a},[O()])])}});const[Ha]=Z("picker-toolbar"),Ke={title:String,cancelButtonText:String,confirmButtonText:String},Ut=["cancel","confirm","title","toolbar"],za=Object.keys(Ke);var Yt=K({name:Ha,props:Ke,emits:["confirm","cancel"],setup(e,{emit:n,slots:o}){const l=()=>{if(o.title)return o.title();if(e.title)return v("div",{class:[ge("title"),"van-ellipsis"]},[e.title])},u=()=>n("cancel"),h=()=>n("confirm"),c=()=>{var D;const w=(D=e.cancelButtonText)!=null?D:Ct("cancel");if(!(!o.cancel&&!w))return v("button",{type:"button",class:[ge("cancel"),ke],onClick:u},[o.cancel?o.cancel():w])},T=()=>{var D;const w=(D=e.confirmButtonText)!=null?D:Ct("confirm");if(!(!o.confirm&&!w))return v("button",{type:"button",class:[ge("confirm"),ke],onClick:h},[o.confirm?o.confirm():w])};return()=>v("div",{class:ge("toolbar")},[o.toolbar?o.toolbar():[c(),l(),T()]])}});const qa=(e,n)=>{const o=H(e());return j(e,l=>{l!==o.value&&(o.value=l)}),j(o,l=>{l!==e()&&n(l)}),o},[Lt,tt]=Z("picker-group"),Wt=Symbol(Lt),Ua=ne({tabs:Ve(),activeTab:X(0),nextStepText:String,showToolbar:U},Ke);var Ya=K({name:Lt,props:Ua,emits:["confirm","cancel","update:activeTab"],setup(e,{emit:n,slots:o}){const l=qa(()=>e.activeTab,w=>n("update:activeTab",w)),{children:u,linkChildren:h}=We(Wt);h();const c=()=>+l.value<e.tabs.length-1&&e.nextStepText,T=()=>{c()?l.value=+l.value+1:n("confirm",u.map(w=>w.confirm()))},D=()=>n("cancel");return()=>{var w,M;let g=(M=(w=o.default)==null?void 0:w.call(o))==null?void 0:M.filter(k=>k.type!==ta).map(k=>k.type===$e?k.children:k);g&&(g=aa(g));const y=c()?e.nextStepText:e.confirmButtonText;return v("div",{class:tt()},[e.showToolbar?v(Yt,{title:e.title,cancelButtonText:e.cancelButtonText,confirmButtonText:y,onConfirm:T,onCancel:D},oe(o,Ut)):null,v(At,{active:l.value,"onUpdate:active":k=>l.value=k,class:tt("tabs"),shrink:!0,animated:!0,lazyRender:!1},{default:()=>[e.tabs.map((k,V)=>v(Ft,{title:k,titleClass:tt("tab-title")},{default:()=>[g?.[V]]}))]})])}}});const dt=ne({loading:Boolean,readonly:Boolean,allowHtml:Boolean,optionHeight:X(44),showToolbar:U,swipeDuration:X(1e3),visibleOptionNum:X(6)},Ke),La=ne({},dt,{columns:Ve(),modelValue:Ve(),toolbarPosition:ae("top"),columnsFieldNames:Object});var Wa=K({name:$a,props:La,emits:["confirm","cancel","change","scrollInto","clickOption","update:modelValue"],setup(e,{emit:n,slots:o}){const l=H(),u=H(e.modelValue.slice(0)),{parent:h}=st(Wt),{children:c,linkChildren:T}=We(qt);T();const D=E(()=>Aa(e.columnsFieldNames)),w=E(()=>na(e.optionHeight)),M=E(()=>Oa(e.columns,D.value)),g=E(()=>{const{columns:i}=e;switch(M.value){case"multiple":return i;case"cascade":return Ia(i,D.value,u);default:return[i]}}),y=E(()=>g.value.some(i=>i.length)),k=E(()=>g.value.map((i,f)=>ot(i,u.value[f],D.value))),V=E(()=>g.value.map((i,f)=>i.findIndex(P=>P[D.value.value]===u.value[f]))),I=(i,f)=>{if(u.value[i]!==f){const P=u.value.slice(0);P[i]=f,u.value=P}},S=()=>({selectedValues:u.value.slice(0),selectedOptions:k.value,selectedIndexes:V.value}),B=(i,f)=>{I(f,i),M.value==="cascade"&&u.value.forEach((P,F)=>{const q=g.value[F];wt(q,P,D.value)||I(F,q.length?q[0][D.value.value]:void 0)}),Ie(()=>{n("change",ne({columnIndex:f},S()))})},R=(i,f)=>{const P={columnIndex:f,currentOption:i};n("clickOption",ne(S(),P)),n("scrollInto",P)},C=()=>{c.forEach(f=>f.stopMomentum());const i=S();return Ie(()=>{const f=S();n("confirm",f)}),i},r=()=>n("cancel",S()),a=()=>g.value.map((i,f)=>v(Na,{value:u.value[f],fields:D.value,options:i,readonly:e.readonly,allowHtml:e.allowHtml,optionHeight:w.value,swipeDuration:e.swipeDuration,visibleOptionNum:e.visibleOptionNum,onChange:P=>B(P,f),onClickOption:P=>R(P,f),onScrollInto:P=>{n("scrollInto",{currentOption:P,columnIndex:f})}},{option:o.option})),d=i=>{if(y.value){const f={height:`${w.value}px`},P={backgroundSize:`100% ${(i-w.value)/2}px`};return[v("div",{class:ge("mask"),style:P},null),v("div",{class:[la,ge("frame")],style:f},null)]}},x=()=>{const i=w.value*+e.visibleOptionNum,f={height:`${i}px`};return!e.loading&&!y.value&&o.empty?o.empty():v("div",{ref:l,class:ge("columns"),style:f},[a(),d(i)])},m=()=>{if(e.showToolbar&&!h)return v(Yt,be(oe(e,za),{onConfirm:C,onCancel:r}),oe(o,Ut))},O=i=>{i.forEach((f,P)=>{f.length&&!wt(f,u.value[P],D.value)&&I(P,Ht(f)[D.value.value])})};j(g,i=>O(i),{immediate:!0});let b;return j(()=>e.modelValue,i=>{!ue(i,u.value)&&!ue(i,b)&&(u.value=i.slice(0),b=i.slice(0)),e.modelValue.length===0&&O(g.value)},{deep:!0}),j(u,i=>{ue(i,e.modelValue)||(b=i.slice(0),n("update:modelValue",b))},{immediate:!0}),Le("touchmove",se,{target:l}),fe({confirm:C,getSelectedOptions:()=>k.value}),()=>{var i,f;return v("div",{class:ge()},[e.toolbarPosition==="top"?m():null,e.loading?v(oa,{class:ge("loading")},null):null,(i=o["columns-top"])==null?void 0:i.call(o),x(),(f=o["columns-bottom"])==null?void 0:f.call(o),e.toolbarPosition==="bottom"?m():null])}}});const mt=ee(Wa),[ja,Ka]=Z("form"),Ga={colon:Boolean,disabled:Boolean,readonly:Boolean,required:[Boolean,String],showError:Boolean,labelWidth:Q,labelAlign:String,inputAlign:String,scrollToError:Boolean,scrollToErrorPosition:String,validateFirst:Boolean,submitOnEnter:U,showErrorMessage:U,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var Xa=K({name:ja,props:Ga,emits:["submit","failed"],setup(e,{emit:n,slots:o}){const{children:l,linkChildren:u}=We(ra),h=S=>S?l.filter(B=>S.includes(B.name)):l,c=S=>new Promise((B,R)=>{const C=[];h(S).reduce((a,d)=>a.then(()=>{if(!C.length)return d.validate().then(x=>{x&&C.push(x)})}),Promise.resolve()).then(()=>{C.length?R(C):B()})}),T=S=>new Promise((B,R)=>{const C=h(S);Promise.all(C.map(r=>r.validate())).then(r=>{r=r.filter(Boolean),r.length?R(r):B()})}),D=S=>{const B=l.find(R=>R.name===S);return B?new Promise((R,C)=>{B.validate().then(r=>{r?C(r):R()})}):Promise.reject()},w=S=>typeof S=="string"?D(S):e.validateFirst?c(S):T(S),M=S=>{typeof S=="string"&&(S=[S]),h(S).forEach(R=>{R.resetValidation()})},g=()=>l.reduce((S,B)=>(S[B.name]=B.getValidationStatus(),S),{}),y=(S,B)=>{l.some(R=>R.name===S?(R.$el.scrollIntoView(B),!0):!1)},k=()=>l.reduce((S,B)=>(B.name!==void 0&&(S[B.name]=B.formValue.value),S),{}),V=()=>{const S=k();w().then(()=>n("submit",S)).catch(B=>{n("failed",{values:S,errors:B});const{scrollToError:R,scrollToErrorPosition:C}=e;R&&B[0].name&&y(B[0].name,C?{block:C}:void 0)})},I=S=>{se(S),V()};return u({props:e}),fe({submit:V,validate:w,getValues:k,scrollToField:y,resetValidation:M,getValidationStatus:g}),()=>{var S;return v("form",{class:Ka(),onSubmit:I},[(S=o.default)==null?void 0:S.call(o)])}}});const Za=ee(Xa),[jt,Ja]=Z("radio-group"),Qa={shape:String,disabled:Boolean,iconSize:Q,direction:String,modelValue:ia,checkedColor:String},Kt=Symbol(jt);var en=K({name:jt,props:Qa,emits:["change","update:modelValue"],setup(e,{emit:n,slots:o}){const{linkChildren:l}=We(Kt),u=h=>n("update:modelValue",h);return j(()=>e.modelValue,h=>n("change",h)),l({props:e,updateValue:u}),je(()=>e.modelValue),()=>{var h;return v("div",{class:Ja([e.direction]),role:"radiogroup"},[(h=o.default)==null?void 0:h.call(o)])}}});const tn=ee(en),an=ee(_a),nn=ne({},Ma,{shape:String}),[on,ln]=Z("radio");var rn=K({name:on,props:nn,emits:["update:modelValue"],setup(e,{emit:n,slots:o}){const{parent:l}=st(Kt),u=()=>(l?l.props.modelValue:e.modelValue)===e.name,h=()=>{l?l.updateValue(e.name):n("update:modelValue",e.name)};return()=>v(Va,be({bem:ln,role:"radio",parent:l,checked:u(),onToggle:h},e),oe(o,["default","icon"]))}});const sn=ee(rn),[cn,W,ve]=Z("calendar"),un=e=>ve("monthTitle",e.getFullYear(),e.getMonth()+1);function we(e,n){const o=e.getFullYear(),l=n.getFullYear();if(o===l){const u=e.getMonth(),h=n.getMonth();return u===h?0:u>h?1:-1}return o>l?1:-1}function te(e,n){const o=we(e,n);if(o===0){const l=e.getDate(),u=n.getDate();return l===u?0:l>u?1:-1}return o}const Pe=e=>new Date(e),pt=e=>Array.isArray(e)?e.map(Pe):Pe(e);function ht(e,n){const o=Pe(e);return o.setDate(o.getDate()+n),o}function gt(e,n){const o=Pe(e);return o.setMonth(o.getMonth()+n),o.getDate()!==e.getDate()&&o.setDate(0),o}function Gt(e,n){const o=Pe(e);return o.setFullYear(o.getFullYear()+n),o.getDate()!==e.getDate()&&o.setDate(0),o}const lt=e=>ht(e,-1),rt=e=>ht(e,1),Dt=e=>gt(e,-1),St=e=>gt(e,1),Tt=e=>Gt(e,-1),_t=e=>Gt(e,1),He=()=>{const e=new Date;return e.setHours(0,0,0,0),e};function dn(e){const n=e[0].getTime();return(e[1].getTime()-n)/(1e3*60*60*24)+1}function mn(e,n=0){const o=new Date(e.getFullYear(),e.getMonth()+1,0),l=n+e.getDate()-1,u=n+o.getDate()-1;return Math.floor(l/7)===Math.floor(u/7)}const Xt=ne({},dt,{modelValue:Ve(),filter:Function,formatter:{type:Function,default:(e,n)=>n}}),Zt=Object.keys(dt);function hn(e,n){if(e<0)return[];const o=Array(e);let l=-1;for(;++l<e;)o[l]=n(l);return o}const Jt=(e,n)=>32-new Date(e,n-1,32).getDate(),_e=(e,n,o,l,u,h)=>{const c=hn(n-e+1,T=>{const D=Bt(e+T);return l(o,{text:D,value:D})});return u?u(o,c,h):c},Qt=(e,n)=>e.map((o,l)=>{const u=n[l];if(u.length){const h=+u[0].value,c=+u[u.length-1].value;return Bt(Oe(+o,h,c))}return o}),[gn]=Z("calendar-day");var vn=K({name:gn,props:{item:De(Object),color:String,index:Number,offset:ct(0),rowHeight:String},emits:["click","clickDisabledDate"],setup(e,{emit:n,slots:o}){const l=E(()=>{const{item:w,index:M,color:g,offset:y,rowHeight:k}=e,V={height:k};if(w.type==="placeholder")return V.width="100%",V;if(M===0&&(V.marginLeft=`${100*y/7}%`),g)switch(w.type){case"end":case"start":case"start-end":case"multiple-middle":case"multiple-selected":V.background=g;break;case"middle":V.color=g;break}return w.date&&mn(w.date,y)&&(V.marginBottom=0),V}),u=()=>{e.item.type!=="disabled"?n("click",e.item):n("clickDisabledDate",e.item)},h=()=>{const{topInfo:w}=e.item;if(w||o["top-info"])return v("div",{class:W("top-info")},[o["top-info"]?o["top-info"](e.item):w])},c=()=>{const{bottomInfo:w}=e.item;if(w||o["bottom-info"])return v("div",{class:W("bottom-info")},[o["bottom-info"]?o["bottom-info"](e.item):w])},T=()=>o.text?o.text(e.item):e.item.text,D=()=>{const{item:w,color:M,rowHeight:g}=e,{type:y}=w,k=[h(),T(),c()];return y==="selected"?v("div",{class:W("selected-day"),style:{width:g,height:g,background:M}},[k]):k};return()=>{const{type:w,className:M}=e.item;return w==="placeholder"?v("div",{class:W("day"),style:l.value},null):v("div",{role:"gridcell",style:l.value,class:[W("day",w),M],tabindex:w==="disabled"?void 0:-1,onClick:u},[D()])}}});const[fn]=Z("calendar-month"),bn={date:De(Date),type:String,color:String,minDate:Date,maxDate:Date,showMark:Boolean,rowHeight:Q,formatter:Function,lazyRender:Boolean,currentDate:[Date,Array],allowSameDay:Boolean,showSubtitle:Boolean,showMonthTitle:Boolean,firstDayOfWeek:Number};var yn=K({name:fn,props:bn,emits:["click","clickDisabledDate"],setup(e,{emit:n,slots:o}){const[l,u]=sa(),h=H(),c=H(),T=Ra(c),D=E(()=>un(e.date)),w=E(()=>Ee(e.rowHeight)),M=E(()=>{const b=e.date.getDate(),i=(e.date.getDay()-b%7+8)%7;return e.firstDayOfWeek?(i+7-e.firstDayOfWeek)%7:i}),g=E(()=>Jt(e.date.getFullYear(),e.date.getMonth()+1)),y=E(()=>l.value||!e.lazyRender),k=()=>D.value,V=b=>{const s=i=>e.currentDate.some(f=>te(f,i)===0);if(s(b)){const i=lt(b),f=rt(b),P=s(i),F=s(f);return P&&F?"multiple-middle":P?"end":F?"start":"multiple-selected"}return""},I=b=>{const[s,i]=e.currentDate;if(!s)return"";const f=te(b,s);if(!i)return f===0?"start":"";const P=te(b,i);return e.allowSameDay&&f===0&&P===0?"start-end":f===0?"start":P===0?"end":f>0&&P<0?"middle":""},S=b=>{const{type:s,minDate:i,maxDate:f,currentDate:P}=e;if(i&&te(b,i)<0||f&&te(b,f)>0)return"disabled";if(P===null)return"";if(Array.isArray(P)){if(s==="multiple")return V(b);if(s==="range")return I(b)}else if(s==="single")return te(b,P)===0?"selected":"";return""},B=b=>{if(e.type==="range"){if(b==="start"||b==="end")return ve(b);if(b==="start-end")return`${ve("start")}/${ve("end")}`}},R=()=>{if(e.showMonthTitle)return v("div",{class:W("month-title")},[o["month-title"]?o["month-title"]({date:e.date,text:D.value}):D.value])},C=()=>{if(e.showMark&&y.value)return v("div",{class:W("month-mark")},[e.date.getMonth()+1])},r=E(()=>{const b=Math.ceil((g.value+M.value)/7);return Array(b).fill({type:"placeholder"})}),a=E(()=>{const b=[],s=e.date.getFullYear(),i=e.date.getMonth();for(let f=1;f<=g.value;f++){const P=new Date(s,i,f),F=S(P);let q={date:P,type:F,text:f,bottomInfo:B(F)};e.formatter&&(q=e.formatter(q)),b.push(q)}return b}),d=E(()=>a.value.filter(b=>b.type==="disabled")),x=(b,s)=>{if(h.value){const i=ye(h.value),f=r.value.length,F=(Math.ceil((s.getDate()+M.value)/7)-1)*i.height/f;ca(b,i.top+F+b.scrollTop-ye(b).top)}},m=(b,s)=>v(vn,{item:b,index:s,color:e.color,offset:M.value,rowHeight:w.value,onClick:i=>n("click",i),onClickDisabledDate:i=>n("clickDisabledDate",i)},oe(o,["top-info","bottom-info","text"])),O=()=>v("div",{ref:h,role:"grid",class:W("days")},[C(),(y.value?a:r).value.map(m)]);return fe({getTitle:k,getHeight:()=>T.value,setVisible:u,scrollToDate:x,disabledDays:d}),()=>v("div",{class:W("month"),ref:c},[R(),O()])}});const[Cn]=Z("calendar-header");var wn=K({name:Cn,props:{date:Date,minDate:Date,maxDate:Date,title:String,subtitle:String,showTitle:Boolean,showSubtitle:Boolean,firstDayOfWeek:Number,switchMode:ae("none")},emits:["clickSubtitle","panelChange"],setup(e,{slots:n,emit:o}){const l=E(()=>e.date&&e.minDate&&we(Dt(e.date),e.minDate)<0),u=E(()=>e.date&&e.minDate&&we(Tt(e.date),e.minDate)<0),h=E(()=>e.date&&e.maxDate&&we(St(e.date),e.maxDate)>0),c=E(()=>e.date&&e.maxDate&&we(_t(e.date),e.maxDate)>0),T=()=>{if(e.showTitle){const k=e.title||ve("title"),V=n.title?n.title():k;return v("div",{class:W("header-title")},[V])}},D=k=>o("clickSubtitle",k),w=k=>o("panelChange",k),M=k=>{const V=e.switchMode==="year-month",I=n[k?"next-month":"prev-month"],S=n[k?"next-year":"prev-year"],B=k?h.value:l.value,R=k?c.value:u.value,C=k?"arrow":"arrow-left",r=k?"arrow-double-right":"arrow-double-left",a=()=>w((k?St:Dt)(e.date)),d=()=>w((k?_t:Tt)(e.date)),x=v("view",{class:W("header-action",{disabled:B}),onClick:B?void 0:a},[I?I({disabled:B}):v(Me,{class:{[ke]:!B},name:C},null)]),m=V&&v("view",{class:W("header-action",{disabled:R}),onClick:R?void 0:d},[S?S({disabled:R}):v(Me,{class:{[ke]:!R},name:r},null)]);return k?[x,m]:[m,x]},g=()=>{if(e.showSubtitle){const k=n.subtitle?n.subtitle({date:e.date,text:e.subtitle}):e.subtitle,V=e.switchMode!=="none";return v("div",{class:W("header-subtitle",{"with-switch":V}),onClick:D},[V?[M(),v("div",{class:W("header-subtitle-text")},[k]),M(!0)]:k])}},y=()=>{const{firstDayOfWeek:k}=e,V=ve("weekdays"),I=[...V.slice(k,7),...V.slice(0,k)];return v("div",{class:W("weekdays")},[I.map(S=>v("span",{class:W("weekday")},[S]))])};return()=>v("div",{class:W("header")},[T(),g(),y()])}});const kn={show:Boolean,type:ae("single"),switchMode:ae("none"),title:String,color:String,round:U,readonly:Boolean,poppable:U,maxRange:X(null),position:ae("bottom"),teleport:[String,Object],showMark:U,showTitle:U,formatter:Function,rowHeight:Q,confirmText:String,rangePrompt:String,lazyRender:U,showConfirm:U,defaultDate:[Date,Array],allowSameDay:Boolean,showSubtitle:U,closeOnPopstate:U,showRangePrompt:U,confirmDisabledText:String,closeOnClickOverlay:U,safeAreaInsetTop:Boolean,safeAreaInsetBottom:U,minDate:{type:Date,validator:Ae},maxDate:{type:Date,validator:Ae},firstDayOfWeek:{type:Q,default:0,validator:e=>e>=0&&e<=6}};var xn=K({name:cn,props:kn,emits:["select","confirm","unselect","monthShow","overRange","update:show","clickSubtitle","clickDisabledDate","clickOverlay","panelChange"],setup(e,{emit:n,slots:o}){const l=E(()=>e.switchMode!=="none"),u=E(()=>!e.minDate&&!l.value?He():e.minDate),h=E(()=>!e.maxDate&&!l.value?gt(He(),6):e.maxDate),c=(p,$=u.value,N=h.value)=>$&&te(p,$)===-1?$:N&&te(p,N)===1?N:p,T=(p=e.defaultDate)=>{const{type:$,allowSameDay:N}=e;if(p===null)return p;const A=He();if($==="range"){Array.isArray(p)||(p=[]),p.length===1&&te(p[0],A)===1&&(p=[]);const G=u.value,t=h.value,_=c(p[0]||A,G,t?N?t:lt(t):void 0),J=c(p[1]||(N?A:rt(A)),G?N?G:rt(G):void 0);return[_,J]}return $==="multiple"?Array.isArray(p)?p.map(G=>c(G)):[c(A)]:((!p||Array.isArray(p))&&(p=A),c(p))},D=()=>{const p=Array.isArray(g.value)?g.value[0]:g.value;return p||c(He())};let w;const M=H(),g=H(T()),y=H(D()),k=H(),[V,I]=ut(),S=E(()=>e.firstDayOfWeek?+e.firstDayOfWeek%7:0),B=E(()=>{const p=[];if(!u.value||!h.value)return p;const $=new Date(u.value);$.setDate(1);do p.push(new Date($)),$.setMonth($.getMonth()+1);while(we($,h.value)!==1);return p}),R=E(()=>{if(g.value){if(e.type==="range")return!g.value[0]||!g.value[1];if(e.type==="multiple")return!g.value.length}return!g.value}),C=()=>g.value,r=()=>{const p=da(M.value),$=p+w,N=B.value.map((J,ie)=>V.value[ie].getHeight()),A=N.reduce((J,ie)=>J+ie,0);if($>A&&p>0)return;let G=0,t;const _=[-1,-1];for(let J=0;J<B.value.length;J++){const ie=V.value[J];G<=$&&G+N[J]>=p&&(_[1]=J,t||(t=ie,_[0]=J),V.value[J].showed||(V.value[J].showed=!0,n("monthShow",{date:ie.date,title:ie.getTitle()}))),G+=N[J]}B.value.forEach((J,ie)=>{const vt=ie>=_[0]-1&&ie<=_[1]+1;V.value[ie].setVisible(vt)}),t&&(k.value=t)},a=p=>{l.value?y.value=p:Ge(()=>{B.value.some(($,N)=>we($,p)===0?(M.value&&V.value[N].scrollToDate(M.value,p),!0):!1),r()})},d=()=>{if(!(e.poppable&&!e.show))if(g.value){const p=e.type==="single"?g.value:g.value[0];Ae(p)&&a(p)}else l.value||Ge(r)},x=()=>{e.poppable&&!e.show||(l.value||Ge(()=>{w=Math.floor(ye(M).height)}),d())},m=(p=T())=>{g.value=p,d()},O=p=>{const{maxRange:$,rangePrompt:N,showRangePrompt:A}=e;return $&&dn(p)>+$?(A&&Se(N||ve("rangePrompt",$)),n("overRange"),!1):!0},b=p=>{y.value=p,n("panelChange",{date:p})},s=()=>{var p;return n("confirm",(p=g.value)!=null?p:pt(g.value))},i=(p,$)=>{const N=A=>{g.value=A,n("select",pt(A))};if($&&e.type==="range"&&!O(p)){N([p[0],ht(p[0],+e.maxRange-1)]);return}N(p),$&&!e.showConfirm&&s()},f=(p,$,N)=>{var A;return(A=p.find(G=>te($,G.date)===-1&&te(G.date,N)===-1))==null?void 0:A.date},P=E(()=>V.value.reduce((p,$)=>{var N,A;return p.push(...(A=(N=$.disabledDays)==null?void 0:N.value)!=null?A:[]),p},[])),F=p=>{if(e.readonly||!p.date)return;const{date:$}=p,{type:N}=e;if(N==="range"){if(!g.value){i([$]);return}const[A,G]=g.value;if(A&&!G){const t=te($,A);if(t===1){const _=f(P.value,A,$);if(_){const J=lt(_);te(A,J)===-1?i([A,J]):i([$])}else i([A,$],!0)}else t===-1?i([$]):e.allowSameDay&&i([$,$],!0)}else i([$])}else if(N==="multiple"){if(!g.value){i([$]);return}const A=g.value,G=A.findIndex(t=>te(t,$)===0);if(G!==-1){const[t]=A.splice(G,1);n("unselect",Pe(t))}else e.maxRange&&A.length>=+e.maxRange?Se(e.rangePrompt||ve("rangePrompt",e.maxRange)):i([...A,$])}else i($,!0)},q=p=>n("clickOverlay",p),le=p=>n("update:show",p),re=(p,$)=>{const N=$!==0||!e.showSubtitle;return v(yn,be({ref:l.value?k:I($),date:p,currentDate:g.value,showMonthTitle:N,firstDayOfWeek:S.value,lazyRender:l.value?!1:e.lazyRender,maxDate:h.value,minDate:u.value},oe(e,["type","color","showMark","formatter","rowHeight","showSubtitle","allowSameDay"]),{onClick:F,onClickDisabledDate:A=>n("clickDisabledDate",A)}),oe(o,["top-info","bottom-info","month-title","text"]))},ce=()=>{if(o.footer)return o.footer();if(e.showConfirm){const p=o["confirm-text"],$=R.value,N=$?e.confirmDisabledText:e.confirmText;return v(Fe,{round:!0,block:!0,type:"primary",color:e.color,class:W("confirm"),disabled:$,nativeType:"button",onClick:s},{default:()=>[p?p({disabled:$}):N||ve("confirm")]})}},de=()=>v("div",{class:[W("footer"),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[ce()]),me=()=>{var p,$;return v("div",{class:W()},[v(wn,{date:(p=k.value)==null?void 0:p.date,maxDate:h.value,minDate:u.value,title:e.title,subtitle:($=k.value)==null?void 0:$.getTitle(),showTitle:e.showTitle,showSubtitle:e.showSubtitle,switchMode:e.switchMode,firstDayOfWeek:S.value,onClickSubtitle:N=>n("clickSubtitle",N),onPanelChange:b},oe(o,["title","subtitle","prev-month","prev-year","next-month","next-year"])),v("div",{ref:M,class:W("body"),onScroll:l.value?void 0:r},[l.value?re(y.value,0):B.value.map(re)]),de()])};return j(()=>e.show,x),j(()=>[e.type,e.minDate,e.maxDate,e.switchMode],()=>m(T(g.value))),j(()=>e.defaultDate,p=>{m(p)}),fe({reset:m,scrollToDate:a,getSelectedDate:C}),ua(x),()=>e.poppable?v(Rt,{show:e.show,class:W("popup"),round:e.round,position:e.position,closeable:e.showTitle||e.showSubtitle,teleport:e.teleport,closeOnPopstate:e.closeOnPopstate,safeAreaInsetTop:e.safeAreaInsetTop,closeOnClickOverlay:e.closeOnClickOverlay,onClickOverlay:q,"onUpdate:show":le},{default:me}):me()}});const pn=ee(xn),[Dn,he,Sn]=Z("cascader"),Tn={title:String,options:Ve(),closeable:U,swipeable:U,closeIcon:ae("cross"),showHeader:U,modelValue:Q,fieldNames:Object,placeholder:String,activeColor:String};var _n=K({name:Dn,props:Tn,emits:["close","change","finish","clickTab","update:modelValue"],setup(e,{slots:n,emit:o}){const l=H([]),u=H(0),[h,c]=ut(),{text:T,value:D,children:w}=ne({text:"text",value:"value",children:"children"},e.fieldNames),M=(a,d)=>{for(const x of a){if(x[D]===d)return[x];if(x[w]){const m=M(x[w],d);if(m)return[x,...m]}}},g=()=>{const{options:a,modelValue:d}=e;if(d!==void 0){const x=M(a,d);if(x){let m=a;l.value=x.map(O=>{const b={options:m,selected:O},s=m.find(i=>i[D]===O[D]);return s&&(m=s[w]),b}),m&&l.value.push({options:m,selected:null}),Ie(()=>{u.value=l.value.length-1});return}}l.value=[{options:a,selected:null}]},y=(a,d)=>{if(a.disabled)return;if(l.value[d].selected=a,l.value.length>d+1&&(l.value=l.value.slice(0,d+1)),a[w]){const O={options:a[w],selected:null};l.value[d+1]?l.value[d+1]=O:l.value.push(O),Ie(()=>{u.value++})}const x=l.value.map(O=>O.selected).filter(Boolean);o("update:modelValue",a[D]);const m={value:a[D],tabIndex:d,selectedOptions:x};o("change",m),a[w]||o("finish",m)},k=()=>o("close"),V=({name:a,title:d})=>o("clickTab",a,d),I=()=>e.showHeader?v("div",{class:he("header")},[v("h2",{class:he("title")},[n.title?n.title():e.title]),e.closeable?v(Me,{name:e.closeIcon,class:[he("close-icon"),ke],onClick:k},null):null]):null,S=(a,d,x)=>{const{disabled:m}=a,O=!!(d&&a[D]===d[D]),b=a.color||(O?e.activeColor:void 0),s=n.option?n.option({option:a,selected:O}):v("span",null,[a[T]]);return v("li",{ref:O?c(x):void 0,role:"menuitemradio",class:[he("option",{selected:O,disabled:m}),a.className],style:{color:b},tabindex:m?void 0:O?0:-1,"aria-checked":O,"aria-disabled":m||void 0,onClick:()=>y(a,x)},[s,O?v(Me,{name:"success",class:he("selected-icon")},null):null])},B=(a,d,x)=>v("ul",{role:"menu",class:he("options")},[a.map(m=>S(m,d,x))]),R=(a,d)=>{const{options:x,selected:m}=a,O=e.placeholder||Sn("select"),b=m?m[T]:O;return v(Ft,{title:b,titleClass:he("tab",{unselected:!m})},{default:()=>{var s,i;return[(s=n["options-top"])==null?void 0:s.call(n,{tabIndex:d}),B(x,m,d),(i=n["options-bottom"])==null?void 0:i.call(n,{tabIndex:d})]}})},C=()=>v(At,{active:u.value,"onUpdate:active":a=>u.value=a,shrink:!0,animated:!0,class:he("tabs"),color:e.activeColor,swipeable:e.swipeable,onClickTab:V},{default:()=>[l.value.map(R)]}),r=a=>{const d=a.parentElement;d&&(d.scrollTop=a.offsetTop-(d.offsetHeight-a.offsetHeight)/2)};return g(),j(u,a=>{const d=h.value[a];d&&r(d)}),j(()=>e.options,g,{deep:!0}),j(()=>e.modelValue,a=>{a!==void 0&&l.value.map(x=>{var m;return(m=x.selected)==null?void 0:m[D]}).includes(a)||g()}),()=>v("div",{class:he()},[I(),C()])}});const Vn=ee(_n),Vt=new Date().getFullYear(),[Mn]=Z("date-picker"),Pn=ne({},Xt,{columnsType:{type:Array,default:()=>["year","month","day"]},minDate:{type:Date,default:()=>new Date(Vt-10,0,1),validator:Ae},maxDate:{type:Date,default:()=>new Date(Vt+10,11,31),validator:Ae}});var Bn=K({name:Mn,props:Pn,emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:n,slots:o}){const l=H(e.modelValue),u=H(!1),h=H(),c=E(()=>u.value?e.modelValue:l.value),T=a=>a===e.minDate.getFullYear(),D=a=>a===e.maxDate.getFullYear(),w=a=>a===e.minDate.getMonth()+1,M=a=>a===e.maxDate.getMonth()+1,g=a=>{const{minDate:d,columnsType:x}=e,m=x.indexOf(a),O=c.value[m];if(O)return+O;switch(a){case"year":return d.getFullYear();case"month":return d.getMonth()+1;case"day":return d.getDate()}},y=()=>{const a=e.minDate.getFullYear(),d=e.maxDate.getFullYear();return _e(a,d,"year",e.formatter,e.filter,c.value)},k=()=>{const a=g("year"),d=T(a)?e.minDate.getMonth()+1:1,x=D(a)?e.maxDate.getMonth()+1:12;return _e(d,x,"month",e.formatter,e.filter,c.value)},V=()=>{const a=g("year"),d=g("month"),x=T(a)&&w(d)?e.minDate.getDate():1,m=D(a)&&M(d)?e.maxDate.getDate():Jt(a,d);return _e(x,m,"day",e.formatter,e.filter,c.value)},I=()=>{var a;return(a=h.value)==null?void 0:a.confirm()},S=()=>l.value,B=E(()=>e.columnsType.map(a=>{switch(a){case"year":return y();case"month":return k();case"day":return V();default:return[]}}));j(l,a=>{ue(a,e.modelValue)||n("update:modelValue",a)}),j(()=>e.modelValue,(a,d)=>{u.value=ue(d,l.value),a=Qt(a,B.value),ue(a,l.value)||(l.value=a),u.value=!1},{immediate:!0});const R=(...a)=>n("change",...a),C=(...a)=>n("cancel",...a),r=(...a)=>n("confirm",...a);return fe({confirm:I,getSelectedDate:S}),()=>v(mt,be({ref:h,modelValue:l.value,"onUpdate:modelValue":a=>l.value=a,columns:B.value,onChange:R,onCancel:C,onConfirm:r},oe(e,Zt)),o)}});const Rn=ee(Bn),$n=ee(Ya),[On,ze]=Z("rate");function In(e,n,o,l){return e>=n?{status:"full",value:1}:e+.5>=n&&o&&!l?{status:"half",value:.5}:e+1>=n&&o&&l?{status:"half",value:Math.round((e-n+1)*1e10)/1e10}:{status:"void",value:0}}const En={size:Q,icon:ae("star"),color:String,count:X(5),gutter:Q,clearable:Boolean,readonly:Boolean,disabled:Boolean,voidIcon:ae("star-o"),allowHalf:Boolean,voidColor:String,touchable:U,iconPrefix:String,modelValue:ct(0),disabledColor:String};var An=K({name:On,props:En,emits:["change","update:modelValue"],setup(e,{emit:n}){const o=it(),[l,u]=ut(),h=H(),c=E(()=>e.readonly||e.disabled),T=E(()=>c.value||!e.touchable),D=E(()=>Array(+e.count).fill("").map((C,r)=>In(e.modelValue,r+1,e.allowHalf,e.readonly)));let w,M,g=Number.MAX_SAFE_INTEGER,y=Number.MIN_SAFE_INTEGER;const k=()=>{M=ye(h);const C=l.value.map(ye);w=[],C.forEach((r,a)=>{g=Math.min(r.top,g),y=Math.max(r.top,y),e.allowHalf?w.push({score:a+.5,left:r.left,top:r.top,height:r.height},{score:a+1,left:r.left+r.width/2,top:r.top,height:r.height}):w.push({score:a+1,left:r.left,top:r.top,height:r.height})})},V=(C,r)=>{for(let a=w.length-1;a>0;a--)if(r>=M.top&&r<=M.bottom){if(C>w[a].left&&r>=w[a].top&&r<=w[a].top+w[a].height)return w[a].score}else{const d=r<M.top?g:y;if(C>w[a].left&&w[a].top===d)return w[a].score}return e.allowHalf?.5:1},I=C=>{c.value||C===e.modelValue||(n("update:modelValue",C),n("change",C))},S=C=>{T.value||(o.start(C),k())},B=C=>{if(!T.value&&(o.move(C),o.isHorizontal()&&!o.isTap.value)){const{clientX:r,clientY:a}=C.touches[0];se(C),I(V(r,a))}},R=(C,r)=>{const{icon:a,size:d,color:x,count:m,gutter:O,voidIcon:b,disabled:s,voidColor:i,allowHalf:f,iconPrefix:P,disabledColor:F}=e,q=r+1,le=C.status==="full",re=C.status==="void",ce=f&&C.value>0&&C.value<1;let de;O&&q!==+m&&(de={paddingRight:Ee(O)});const me=p=>{k();let $=f?V(p.clientX,p.clientY):q;e.clearable&&o.isTap.value&&$===e.modelValue&&($=0),I($)};return v("div",{key:r,ref:u(r),role:"radio",style:de,class:ze("item"),tabindex:s?void 0:0,"aria-setsize":m,"aria-posinset":q,"aria-checked":!re,onClick:me},[v(Me,{size:d,name:le?a:b,class:ze("icon",{disabled:s,full:le}),color:s?F:le?x:i,classPrefix:P},null),ce&&v(Me,{size:d,style:{width:C.value+"em"},name:re?b:a,class:ze("icon",["half",{disabled:s,full:!re}]),color:s?F:re?i:x,classPrefix:P},null)])};return je(()=>e.modelValue),Le("touchmove",B,{target:h}),()=>v("div",{ref:h,role:"radiogroup",class:ze({readonly:e.readonly,disabled:e.disabled}),tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,"aria-readonly":e.readonly,onTouchstartPassive:S},[D.value.map(R)])}});const Fn=ee(An),[Nn,Be,Hn]=Z("search"),zn=ne({},Et,{label:String,shape:ae("square"),leftIcon:ae("search"),clearable:U,actionText:String,background:String,showAction:Boolean});var qn=K({name:Nn,props:zn,emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:n,slots:o,attrs:l}){const u=Ba(),h=H(),c=()=>{o.action||(n("update:modelValue",""),n("cancel"))},T=a=>{a.keyCode===13&&(se(a),n("search",e.modelValue))},D=()=>e.id||`${u}-input`,w=()=>{if(o.label||e.label)return v("label",{class:Be("label"),for:D(),"data-allow-mismatch":"attribute"},[o.label?o.label():e.label])},M=()=>{if(e.showAction){const a=e.actionText||Hn("cancel");return v("div",{class:Be("action"),role:"button",tabindex:0,onClick:c},[o.action?o.action():a])}},g=()=>{var a;return(a=h.value)==null?void 0:a.blur()},y=()=>{var a;return(a=h.value)==null?void 0:a.focus()},k=a=>n("blur",a),V=a=>n("focus",a),I=a=>n("clear",a),S=a=>n("clickInput",a),B=a=>n("clickLeftIcon",a),R=a=>n("clickRightIcon",a),C=Object.keys(Et),r=()=>{const a=ne({},l,oe(e,C),{id:D()}),d=x=>n("update:modelValue",x);return v(It,be({ref:h,type:"search",class:Be("field",{"with-message":a.errorMessage}),border:!1,labelAlign:"left",onBlur:k,onFocus:V,onClear:I,onKeypress:T,onClickInput:S,onClickLeftIcon:B,onClickRightIcon:R,"onUpdate:modelValue":d},a),oe(o,["left-icon","right-icon"]))};return fe({focus:y,blur:g}),()=>{var a;return v("div",{class:Be({"show-action":e.showAction}),style:{background:e.background}},[(a=o.left)==null?void 0:a.call(o),v("div",{class:Be("content",e.shape)},[w(),r()]),M()])}}});const Un=ee(qn),[Yn,at,Mt]=Z("signature"),Ln={tips:String,type:ae("png"),penColor:ae("#000"),lineWidth:ct(3),clearButtonText:String,backgroundColor:ae(""),confirmButtonText:String},Wn=()=>{var e;const n=document.createElement("canvas");return!!((e=n.getContext)!=null&&e.call(n,"2d"))};var jn=K({name:Yn,props:Ln,emits:["submit","clear","start","end","signing"],setup(e,{emit:n,slots:o}){const l=H(),u=H(),h=E(()=>l.value?l.value.getContext("2d"):null),c=ft?Wn():!0;let T=0,D=0,w;const M=()=>{if(!h.value)return!1;h.value.beginPath(),h.value.lineWidth=e.lineWidth,h.value.strokeStyle=e.penColor,w=ye(l),n("start")},g=C=>{if(!h.value)return!1;se(C);const r=C.touches[0],a=r.clientX-(w?.left||0),d=r.clientY-(w?.top||0);h.value.lineCap="round",h.value.lineJoin="round",h.value.lineTo(a,d),h.value.stroke(),n("signing",C)},y=C=>{se(C),n("end")},k=C=>{const r=document.createElement("canvas");if(r.width=C.width,r.height=C.height,e.backgroundColor){const a=r.getContext("2d");V(a)}return C.toDataURL()===r.toDataURL()},V=C=>{C&&e.backgroundColor&&(C.fillStyle=e.backgroundColor,C.fillRect(0,0,T,D))},I=()=>{var C,r;const a=l.value;if(!a)return;const x=k(a)?"":((r=(C={jpg:()=>a.toDataURL("image/jpeg",.8),jpeg:()=>a.toDataURL("image/jpeg",.8)})[e.type])==null?void 0:r.call(C))||a.toDataURL(`image/${e.type}`);n("submit",{image:x,canvas:a})},S=()=>{h.value&&(h.value.clearRect(0,0,T,D),h.value.closePath(),V(h.value)),n("clear")},B=()=>{var C,r,a;if(c&&l.value){const d=l.value,x=ft?window.devicePixelRatio:1;T=d.width=(((C=u.value)==null?void 0:C.offsetWidth)||0)*x,D=d.height=(((r=u.value)==null?void 0:r.offsetHeight)||0)*x,(a=h.value)==null||a.scale(x,x),V(h.value)}},R=()=>{if(h.value){const C=h.value.getImageData(0,0,T,D);B(),h.value.putImageData(C,0,0)}};return j(ha,R),ma(B),fe({resize:R,clear:S,submit:I}),()=>v("div",{class:at()},[v("div",{class:at("content"),ref:u},[c?v("canvas",{ref:l,onTouchstartPassive:M,onTouchmove:g,onTouchend:y},null):o.tips?o.tips():v("p",null,[e.tips])]),v("div",{class:at("footer")},[v(Fe,{size:"small",onClick:S},{default:()=>[e.clearButtonText||Mt("clear")]}),v(Fe,{type:"primary",size:"small",onClick:I},{default:()=>[e.confirmButtonText||Mt("confirm")]})])])}});const Kn=ee(jn),[Gn,Re]=Z("slider"),Xn={min:X(0),max:X(100),step:X(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:Q,buttonSize:Q,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}};var Zn=K({name:Gn,props:Xn,emits:["change","dragEnd","dragStart","update:modelValue"],setup(e,{emit:n,slots:o}){let l,u,h;const c=H(),T=[H(),H()],D=H(),w=it(),M=E(()=>Number(e.max)-Number(e.min)),g=E(()=>{const s=e.vertical?"width":"height";return{background:e.inactiveColor,[s]:Ee(e.barHeight)}}),y=s=>e.range&&Array.isArray(s),k=()=>{const{modelValue:s,min:i}=e;return y(s)?`${(s[1]-s[0])*100/M.value}%`:`${(s-Number(i))*100/M.value}%`},V=()=>{const{modelValue:s,min:i}=e;return y(s)?`${(s[0]-Number(i))*100/M.value}%`:"0%"},I=E(()=>{const i={[e.vertical?"height":"width"]:k(),background:e.activeColor};D.value&&(i.transition="none");const f=()=>e.vertical?e.reverse?"bottom":"top":e.reverse?"right":"left";return i[f()]=V(),i}),S=s=>{const i=+e.min,f=+e.max,P=+e.step;s=Oe(s,i,f);const F=Math.round((s-i)/P)*P;return $t(i,F)},B=()=>{const s=e.modelValue;y(s)?h=s.map(S):h=S(s)},R=s=>{var i,f;const P=(i=s[0])!=null?i:Number(e.min),F=(f=s[1])!=null?f:Number(e.max);return P>F?[F,P]:[P,F]},C=(s,i)=>{y(s)?s=R(s).map(S):s=S(s),ue(s,e.modelValue)||n("update:modelValue",s),i&&!ue(s,h)&&n("change",s)},r=s=>{if(s.stopPropagation(),e.disabled||e.readonly)return;B();const{min:i,reverse:f,vertical:P,modelValue:F}=e,q=ye(c),le=()=>P?f?q.bottom-s.clientY:s.clientY-q.top:f?q.right-s.clientX:s.clientX-q.left,re=P?q.height:q.width,ce=Number(i)+le()/re*M.value;if(y(F)){const[de,me]=F,p=(de+me)/2;ce<=p?C([ce,me],!0):C([de,ce],!0)}else C(ce,!0)},a=s=>{e.disabled||e.readonly||(w.start(s),u=e.modelValue,B(),D.value="start")},d=s=>{if(e.disabled||e.readonly)return;D.value==="start"&&n("dragStart",s),se(s,!0),w.move(s),D.value="dragging";const i=ye(c),f=e.vertical?w.deltaY.value:w.deltaX.value,P=e.vertical?i.height:i.width;let F=f/P*M.value;if(e.reverse&&(F=-F),y(h)){const q=e.reverse?1-l:l;u[q]=h[q]+F}else u=h+F;C(u)},x=s=>{e.disabled||e.readonly||(D.value==="dragging"&&(C(u,!0),n("dragEnd",s)),D.value="")},m=s=>typeof s=="number"?Re("button-wrapper",["left","right"][s]):Re("button-wrapper",e.reverse?"left":"right"),O=(s,i)=>{const f=D.value==="dragging";if(typeof i=="number"){const P=o[i===0?"left-button":"right-button"];let F;if(f&&Array.isArray(u)&&(F=u[0]>u[1]?l^1:l),P)return P({value:s,dragging:f,dragIndex:F})}return o.button?o.button({value:s,dragging:f}):v("div",{class:Re("button"),style:Ot(e.buttonSize)},null)},b=s=>{const i=typeof s=="number"?e.modelValue[s]:e.modelValue;return v("div",{ref:T[s??0],role:"slider",class:m(s),tabindex:e.disabled?void 0:0,"aria-valuemin":e.min,"aria-valuenow":i,"aria-valuemax":e.max,"aria-disabled":e.disabled||void 0,"aria-readonly":e.readonly||void 0,"aria-orientation":e.vertical?"vertical":"horizontal",onTouchstartPassive:f=>{typeof s=="number"&&(l=s),a(f)},onTouchend:x,onTouchcancel:x,onClick:ga},[O(i,s)])};return C(e.modelValue),je(()=>e.modelValue),T.forEach(s=>{Le("touchmove",d,{target:s})}),()=>v("div",{ref:c,style:g.value,class:Re({vertical:e.vertical,disabled:e.disabled}),onClick:r},[v("div",{class:Re("bar"),style:I.value},[e.range?[b(0),b(1)]:b()])])}});const Jn=ee(Zn),[Qn,qe]=Z("stepper"),eo=200,Ue=(e,n)=>String(e)===String(n),to={min:X(1),max:X(1/0),name:X(""),step:X(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:U,showMinus:U,showInput:U,longPress:U,autoFixed:U,allowEmpty:Boolean,modelValue:Q,inputWidth:Q,buttonSize:Q,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:X(1),decimalLength:Q};var ao=K({name:Qn,props:to,emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(e,{emit:n}){const o=(m,O=!0)=>{const{min:b,max:s,allowEmpty:i,decimalLength:f}=e;return i&&m===""||(typeof m=="number"&&String(m).includes("e")&&(m=m.toFixed(f?+f:17)),m=bt(String(m),!e.integer),m=m===""?0:+m,m=Number.isNaN(m)?+b:m,m=O?Math.max(Math.min(+s,m),+b):m,nt(f)&&(m=m.toFixed(+f))),m},l=()=>{var m;const O=(m=e.modelValue)!=null?m:e.defaultValue,b=o(O);return Ue(b,e.modelValue)||n("update:modelValue",b),b};let u;const h=H(),c=H(l()),T=E(()=>e.disabled||e.disableMinus||+c.value<=+e.min),D=E(()=>e.disabled||e.disablePlus||+c.value>=+e.max),w=E(()=>({width:Ee(e.inputWidth),height:Ee(e.buttonSize)})),M=E(()=>Ot(e.buttonSize)),g=()=>{const m=o(c.value);Ue(m,c.value)||(c.value=m)},y=m=>{e.beforeChange?fa(e.beforeChange,{args:[m],done(){c.value=m}}):c.value=m},k=()=>{if(u==="plus"&&D.value||u==="minus"&&T.value){n("overlimit",u);return}const m=u==="minus"?-e.step:+e.step,O=o($t(+c.value,m));y(O),n(u)},V=m=>{const O=m.target,{value:b}=O,{decimalLength:s}=e;let i=bt(String(b),!e.integer);if(nt(s)&&i.includes(".")){const P=i.split(".");i=`${P[0]}.${P[1].slice(0,+s)}`}e.beforeChange?O.value=String(c.value):Ue(b,i)||(O.value=i);const f=i===String(+i);y(f?+i:i)},I=m=>{var O;e.disableInput?(O=h.value)==null||O.blur():n("focus",m)},S=m=>{const O=m.target,b=o(O.value,e.autoFixed);O.value=String(b),c.value=b,Ie(()=>{n("blur",m),va()})};let B,R;const C=()=>{R=setTimeout(()=>{k(),C()},eo)},r=()=>{e.longPress&&(B=!1,clearTimeout(R),R=setTimeout(()=>{B=!0,k(),C()},ba))},a=m=>{e.longPress&&(clearTimeout(R),B&&se(m))},d=m=>{e.disableInput&&se(m)},x=m=>({onClick:O=>{se(O),u=m,k()},onTouchstartPassive:()=>{u=m,r()},onTouchend:a,onTouchcancel:a});return j(()=>[e.max,e.min,e.integer,e.decimalLength],g),j(()=>e.modelValue,m=>{Ue(m,c.value)||(c.value=o(m))}),j(c,m=>{n("update:modelValue",m),n("change",m,{name:e.name})}),je(()=>e.modelValue),()=>v("div",{role:"group",class:qe([e.theme])},[Xe(v("button",be({type:"button",style:M.value,class:[qe("minus",{disabled:T.value}),{[ke]:!T.value}],"aria-disabled":T.value||void 0},x("minus")),null),[[Ze,e.showMinus]]),Xe(v("input",{ref:h,type:e.integer?"tel":"text",role:"spinbutton",class:qe("input"),value:c.value,style:w.value,disabled:e.disabled,readonly:e.disableInput,inputmode:e.integer?"numeric":"decimal",placeholder:e.placeholder,autocomplete:"off","aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":c.value,onBlur:S,onInput:V,onFocus:I,onMousedown:d},null),[[Ze,e.showInput]]),Xe(v("button",be({type:"button",style:M.value,class:[qe("plus",{disabled:D.value}),{[ke]:!D.value}],"aria-disabled":D.value||void 0},x("plus")),null),[[Ze,e.showPlus]])])}});const no=ee(ao),[oo]=Z("time-picker"),Pt=e=>/^([01]\d|2[0-3]):([0-5]\d):([0-5]\d)$/.test(e),lo=["hour","minute","second"],ro=ne({},Xt,{minHour:X(0),maxHour:X(23),minMinute:X(0),maxMinute:X(59),minSecond:X(0),maxSecond:X(59),minTime:{type:String,validator:Pt},maxTime:{type:String,validator:Pt},columnsType:{type:Array,default:()=>["hour","minute"]}});var io=K({name:oo,props:ro,emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:n,slots:o}){const l=H(e.modelValue),u=H(),h=y=>{const k=y.split(":");return lo.map((V,I)=>e.columnsType.includes(V)?k[I]:"00")},c=()=>{var y;return(y=u.value)==null?void 0:y.confirm()},T=()=>l.value,D=E(()=>{let{minHour:y,maxHour:k,minMinute:V,maxMinute:I,minSecond:S,maxSecond:B}=e;if(e.minTime||e.maxTime){const R={hour:0,minute:0,second:0};e.columnsType.forEach((a,d)=>{var x;R[a]=(x=l.value[d])!=null?x:0});const{hour:C,minute:r}=R;if(e.minTime){const[a,d,x]=h(e.minTime);y=a,V=+C<=+y?d:"00",S=+C<=+y&&+r<=+V?x:"00"}if(e.maxTime){const[a,d,x]=h(e.maxTime);k=a,I=+C>=+k?d:"59",B=+C>=+k&&+r>=+I?x:"59"}}return e.columnsType.map(R=>{const{filter:C,formatter:r}=e;switch(R){case"hour":return _e(+y,+k,R,r,C,l.value);case"minute":return _e(+V,+I,R,r,C,l.value);case"second":return _e(+S,+B,R,r,C,l.value);default:return[]}})});j(l,y=>{ue(y,e.modelValue)||n("update:modelValue",y)}),j(()=>e.modelValue,y=>{y=Qt(y,D.value),ue(y,l.value)||(l.value=y)},{immediate:!0});const w=(...y)=>n("change",...y),M=(...y)=>n("cancel",...y),g=(...y)=>n("confirm",...y);return fe({confirm:c,getSelectedTime:T}),()=>v(mt,be({ref:u,modelValue:l.value,"onUpdate:modelValue":y=>l.value=y,columns:D.value,onChange:w,onCancel:M,onConfirm:g},oe(e,Zt)),o)}});const so=ee(io),co=["value","placeholder","onClick"],uo={style:{width:"100%",padding:"0 10px"}},mo={style:{width:"100%"}},ho={key:0,style:{"margin-top":"10px","text-align":"center"}},go=["src"],vo={style:{margin:"16px"}},fo=K({name:"BaseForm",__name:"BaseForm",props:{fields:{},initialValues:{},labelWidth:{default:"6.2em"},labelAlign:{default:"left"},inputAlign:{default:"left"},errorMessageAlign:{default:"left"},showErrorMessage:{type:Boolean,default:!0},validateOnChange:{type:Boolean,default:!0},validateOnBlur:{type:Boolean,default:!0},disabled:{type:Boolean},readonly:{type:Boolean},submitButtonText:{default:"提交"},showSubmitButton:{type:Boolean,default:!0},resetButtonText:{default:"重置"},showResetButton:{type:Boolean,default:!1}},emits:["submit","reset","change","failed","click-field"],setup(e,{expose:n,emit:o}){const l=e,u=o,h=H(),c=yt({}),T=yt({}),D=()=>{l.fields.forEach(r=>{const a=l.initialValues?.[r.name];a!==void 0?c[r.name]=a:r.value!==void 0?c[r.name]=r.value:["checkbox-group","uploader"].includes(r.type)?c[r.name]=[]:r.type==="switch"?c[r.name]=r.switchConfig?.inactiveValue??!1:c[r.name]=void 0,["date","time","datetime","picker","picker-group","calendar","cascader"].includes(r.type)&&(T[r.name]=!1)})};j(()=>l.initialValues,r=>{r&&Object.assign(c,r)},{deep:!0,immediate:!0}),D();const w=()=>{u("submit",{...c})},M=r=>{u("failed",r)},g=()=>{h.value?.resetValidation(),D(),u("reset",{...c})},y=(r,a)=>{c[r]=a,u("change",r,a)},k=r=>{const a=c[r.name];if(a==null||a==="")return"";if(r.type==="picker"){if(Array.isArray(a))return a.join("/");const d=r.options?.find(x=>x.value===a);return d?d.text:a}if(r.type==="date"||r.type==="time")return Array.isArray(a)?a.join("-"):a;if(r.type==="calendar"){const d=x=>{if(!x)return"";const m=x.getFullYear(),O=String(x.getMonth()+1).padStart(2,"0"),b=String(x.getDate()).padStart(2,"0");return`${m}-${O}-${b}`};return Array.isArray(a)?a.map(x=>d(x)).join(" 至 "):a instanceof Date?d(a):a}return r.type==="cascader"&&V.value[r.name]||a},V=H({}),I=(r,{selectedValues:a,selectedOptions:d})=>{if(r.type==="picker")d&&d.length>0&&d[0]?.text&&(V.value[r.name]=d.map(x=>x.text).join("/")),y(r.name,a.length===1?a[0]:a);else if(r.type==="date"||r.type==="time"){const x=a.join(r.type==="time"?":":"-");y(r.name,x)}T[r.name]=!1},S=(r,{value:a,selectedOptions:d})=>{y(r.name,a),V.value[r.name]=d.map(x=>x.text).join("/"),T[r.name]=!1},B=(r,a)=>{y(r.name,a),T[r.name]=!1},R=r=>r.type,C=r=>r.options||[];return n({formRef:h,submit:()=>h.value?.submit(),reset:g,validate:r=>h.value?.validate(r),getValues:()=>({...c}),setValues:r=>Object.assign(c,r)}),(r,a)=>{const d=It,x=Un,m=mt,O=Rn,b=so,s=Vn,i=$n,f=Rt,P=pn,F=sn,q=tn,le=Pa,re=an,ce=Ta,de=no,me=Fn,p=Jn,$=Sa,N=Kn,A=Fe,G=Za;return z(),Y(G,{ref_key:"formRef",ref:h,"label-width":e.labelWidth,"label-align":e.labelAlign,"input-align":e.inputAlign,"error-message-align":e.errorMessageAlign,"show-error-message":e.showErrorMessage,"validate-on-change":e.validateOnChange,"validate-on-blur":e.validateOnBlur,disabled:e.disabled,readonly:e.readonly,onSubmit:w,onFailed:M},{default:L(()=>[(z(!0),pe($e,null,Je(e.fields,t=>(z(),pe($e,{key:t.name},[["text","textarea","number","tel","digit","email","password","url"].includes(t.type)?(z(),Y(d,{key:0,modelValue:c[t.name],"onUpdate:modelValue":_=>c[t.name]=_,name:t.name,label:t.label,type:R(t),placeholder:t.placeholder,required:t.required,disabled:t.disabled,readonly:t.readonly,rules:t.rules,"left-icon":t.leftIcon,"right-icon":t.rightIcon,maxlength:t.maxlength,"show-word-limit":t.showWordLimit,autofocus:t.autofocus,clearable:t.clearable,rows:t.rows,"label-width":t.labelWidth,"input-align":t.inputAlign,"error-message-align":t.errorMessageAlign,class:Ca(t.customClass),style:ya(t.customStyle),onClick:t.onClick,onClickInput:t.onClickInput},wa({_:2},[r.$slots[`field-extra-${t.name}`]?{name:"extra",fn:L(()=>[Qe(r.$slots,`field-extra-${t.name}`,{field:t},void 0,!0)]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","name","label","type","placeholder","required","disabled","readonly","rules","left-icon","right-icon","maxlength","show-word-limit","autofocus","clearable","rows","label-width","input-align","error-message-align","class","style","onClick","onClickInput"])):t.type==="search"?(z(),Y(d,{key:1,name:t.name,label:t.label,required:t.required,rules:t.rules,"label-width":t.labelWidth,class:"field-no-padding"},{input:L(()=>[v(x,{modelValue:c[t.name],"onUpdate:modelValue":_=>c[t.name]=_,placeholder:t.placeholder,shape:t.searchConfig?.shape,background:t.searchConfig?.background,"action-text":t.searchConfig?.actionText,"show-action":t.searchConfig?.showAction,style:{padding:"0",width:"100%"},onSearch:_=>y(t.name,c[t.name])},null,8,["modelValue","onUpdate:modelValue","placeholder","shape","background","action-text","show-action","onSearch"])]),_:2},1032,["name","label","required","rules","label-width"])):["picker","date","time","cascader","picker-group"].includes(t.type)?(z(),Y(d,{key:2,modelValue:V.value[t.name],"onUpdate:modelValue":_=>V.value[t.name]=_,name:t.name,label:t.label,placeholder:t.placeholder,required:t.required,disabled:t.disabled,rules:t.rules,"is-link":"",readonly:"",onClick:_=>!t.disabled&&!t.readonly?T[t.name]=!0:null},{input:L(()=>[Ce("input",{readonly:"",value:k(t),class:"van-field__control",placeholder:t.placeholder,onClick:_=>!t.disabled&&!t.readonly?T[t.name]=!0:null},null,8,co)]),_:2},1032,["modelValue","onUpdate:modelValue","name","label","placeholder","required","disabled","rules","onClick"])):xe("",!0),["picker","date","time","cascader","picker-group"].includes(t.type)?(z(),Y(f,{key:3,show:T[t.name],"onUpdate:show":_=>T[t.name]=_,round:"",position:"bottom"},{default:L(()=>[t.type==="picker"?(z(),Y(m,{key:0,columns:t.options,title:t.label,onCancel:_=>T[t.name]=!1,onConfirm:_=>I(t,_)},null,8,["columns","title","onCancel","onConfirm"])):t.type==="date"?(z(),Y(O,{key:1,modelValue:c[t.name],"onUpdate:modelValue":_=>c[t.name]=_,title:t.datePickerConfig?.title||t.label,"min-date":t.datePickerConfig?.minDate,"max-date":t.datePickerConfig?.maxDate,formatter:t.datePickerConfig?.formatter,filter:t.datePickerConfig?.filter,onCancel:_=>T[t.name]=!1,onConfirm:_=>I(t,_)},null,8,["modelValue","onUpdate:modelValue","title","min-date","max-date","formatter","filter","onCancel","onConfirm"])):t.type==="time"?(z(),Y(b,{key:2,modelValue:c[t.name],"onUpdate:modelValue":_=>c[t.name]=_,title:t.datePickerConfig?.title||t.label,"min-time":t.datePickerConfig?.minTime,"max-time":t.datePickerConfig?.maxTime,onCancel:_=>T[t.name]=!1,onConfirm:_=>I(t,_)},null,8,["modelValue","onUpdate:modelValue","title","min-time","max-time","onCancel","onConfirm"])):t.type==="cascader"?(z(),Y(s,{key:3,modelValue:c[t.name],"onUpdate:modelValue":_=>c[t.name]=_,title:t.cascaderConfig?.title||t.label,options:C(t),placeholder:t.cascaderConfig?.placeholder,"field-names":t.cascaderConfig?.fieldNames,onClose:_=>T[t.name]=!1,onFinish:_=>S(t,_)},null,8,["modelValue","onUpdate:modelValue","title","options","placeholder","field-names","onClose","onFinish"])):t.type==="picker-group"?(z(),Y(i,{key:4,title:t.pickerGroupConfig?.title||t.label,tabs:t.pickerGroupConfig?.tabs||[],"next-step-text":t.pickerGroupConfig?.nextStepText,onCancel:_=>T[t.name]=!1,onConfirm:_=>I(t,{selectedValues:_})},{default:L(()=>[Qe(r.$slots,`picker-group-content-${t.name}`,{},void 0,!0)]),_:2},1032,["title","tabs","next-step-text","onCancel","onConfirm"])):xe("",!0)]),_:2},1032,["show","onUpdate:show"])):t.type==="calendar"?(z(),Y(d,{key:4,"model-value":k(t),name:t.name,label:t.label,placeholder:t.placeholder,required:t.required,disabled:t.disabled,rules:t.rules,"is-link":"",readonly:"",onClick:_=>!t.disabled&&!t.readonly?T[t.name]=!0:null},null,8,["model-value","name","label","placeholder","required","disabled","rules","onClick"])):xe("",!0),t.type==="calendar"?(z(),Y(P,{key:5,show:T[t.name],"onUpdate:show":_=>T[t.name]=_,type:t.calendarConfig?.type,color:t.calendarConfig?.color,"min-date":t.calendarConfig?.minDate,"max-date":t.calendarConfig?.maxDate,"allow-same-day":t.calendarConfig?.allowSameDay,"show-confirm":t.calendarConfig?.showConfirm,"confirm-text":t.calendarConfig?.confirmText,"first-day-of-week":t.calendarConfig?.firstDayOfWeek,onConfirm:_=>B(t,_)},null,8,["show","onUpdate:show","type","color","min-date","max-date","allow-same-day","show-confirm","confirm-text","first-day-of-week","onConfirm"])):t.type==="radio-group"?(z(),Y(d,{key:6,name:t.name,label:t.label,required:t.required,rules:t.rules,disabled:t.disabled},{input:L(()=>[v(q,{modelValue:c[t.name],"onUpdate:modelValue":_=>c[t.name]=_,direction:t.direction||"horizontal",disabled:t.disabled},{default:L(()=>[(z(!0),pe($e,null,Je(t.options,_=>(z(),Y(F,{key:_.value,name:_.value,shape:t.shape,style:{"margin-bottom":"8px","margin-right":"12px"}},{default:L(()=>[Te(Ne(_.text),1)]),_:2},1032,["name","shape"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","direction","disabled"])]),_:2},1032,["name","label","required","rules","disabled"])):t.type==="checkbox-group"?(z(),Y(d,{key:7,name:t.name,label:t.label,required:t.required,rules:t.rules,disabled:t.disabled},{input:L(()=>[v(re,{modelValue:c[t.name],"onUpdate:modelValue":_=>c[t.name]=_,direction:t.direction||"horizontal",disabled:t.disabled,max:t.max},{default:L(()=>[(z(!0),pe($e,null,Je(t.options,_=>(z(),Y(le,{key:_.value,name:_.value,shape:t.shape,style:{"margin-bottom":"8px","margin-right":"12px"}},{default:L(()=>[Te(Ne(_.text),1)]),_:2},1032,["name","shape"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","direction","disabled","max"])]),_:2},1032,["name","label","required","rules","disabled"])):t.type==="switch"?(z(),Y(d,{key:8,name:t.name,label:t.label,required:t.required,rules:t.rules,disabled:t.disabled,readonly:""},{input:L(()=>[v(ce,{modelValue:c[t.name],"onUpdate:modelValue":_=>c[t.name]=_,size:t.switchConfig?.size,"active-color":t.switchConfig?.activeColor,"inactive-color":t.switchConfig?.inactiveColor,"active-value":t.switchConfig?.activeValue,"inactive-value":t.switchConfig?.inactiveValue,disabled:t.disabled,onChange:_=>y(t.name,_)},null,8,["modelValue","onUpdate:modelValue","size","active-color","inactive-color","active-value","inactive-value","disabled","onChange"])]),_:2},1032,["name","label","required","rules","disabled"])):t.type==="stepper"?(z(),Y(d,{key:9,name:t.name,label:t.label,required:t.required,rules:t.rules,disabled:t.disabled},{input:L(()=>[v(de,{modelValue:c[t.name],"onUpdate:modelValue":_=>c[t.name]=_,min:t.stepperConfig?.min,max:t.stepperConfig?.max,step:t.stepperConfig?.step,integer:t.stepperConfig?.integer,"decimal-length":t.stepperConfig?.decimalLength,"show-plus":t.stepperConfig?.showPlus,"show-minus":t.stepperConfig?.showMinus,"disable-plus":t.stepperConfig?.disablePlus,"disable-minus":t.stepperConfig?.disableMinus,"disable-input":t.stepperConfig?.disableInput,theme:t.stepperConfig?.theme,"button-size":t.stepperConfig?.buttonSize,"input-width":t.stepperConfig?.inputWidth,disabled:t.disabled},null,8,["modelValue","onUpdate:modelValue","min","max","step","integer","decimal-length","show-plus","show-minus","disable-plus","disable-minus","disable-input","theme","button-size","input-width","disabled"])]),_:2},1032,["name","label","required","rules","disabled"])):t.type==="rate"?(z(),Y(d,{key:10,name:t.name,label:t.label,required:t.required,rules:t.rules,disabled:t.disabled},{input:L(()=>[v(me,{modelValue:c[t.name],"onUpdate:modelValue":_=>c[t.name]=_,count:t.rateConfig?.count,size:t.rateConfig?.size,color:t.rateConfig?.color,"void-color":t.rateConfig?.voidColor,icon:t.rateConfig?.icon,"void-icon":t.rateConfig?.voidIcon,"allow-half":t.rateConfig?.allowHalf,character:t.rateConfig?.character,disabled:t.disabled,readonly:t.readonly},null,8,["modelValue","onUpdate:modelValue","count","size","color","void-color","icon","void-icon","allow-half","character","disabled","readonly"])]),_:2},1032,["name","label","required","rules","disabled"])):t.type==="slider"?(z(),Y(d,{key:11,name:t.name,label:t.label,required:t.required,rules:t.rules,disabled:t.disabled},{input:L(()=>[Ce("div",uo,[v(p,{modelValue:c[t.name],"onUpdate:modelValue":[_=>c[t.name]=_,_=>y(t.name,_)],min:t.sliderConfig?.min,max:t.sliderConfig?.max,step:t.sliderConfig?.step,"bar-height":t.sliderConfig?.barHeight,"active-color":t.sliderConfig?.activeColor,"inactive-color":t.sliderConfig?.inactiveColor,"button-size":t.sliderConfig?.buttonSize,range:t.sliderConfig?.range,vertical:t.sliderConfig?.vertical,disabled:t.disabled,readonly:t.readonly},null,8,["modelValue","onUpdate:modelValue","min","max","step","bar-height","active-color","inactive-color","button-size","range","vertical","disabled","readonly"])])]),_:2},1032,["name","label","required","rules","disabled"])):t.type==="uploader"?(z(),Y(d,{key:12,name:t.name,label:t.label,required:t.required,rules:t.rules,disabled:t.disabled},{input:L(()=>[v($,{modelValue:c[t.name],"onUpdate:modelValue":_=>c[t.name]=_,accept:t.uploadConfig?.accept,multiple:t.uploadConfig?.multiple,"max-count":t.uploadConfig?.maxCount,"max-size":t.uploadConfig?.maxSize,"preview-size":t.uploadConfig?.previewSize,deletable:t.uploadConfig?.deletable,capture:t.uploadConfig?.capture,disabled:t.disabled,readonly:t.readonly,"after-read":t.uploadConfig?.afterRead,"before-read":t.uploadConfig?.beforeRead},null,8,["modelValue","onUpdate:modelValue","accept","multiple","max-count","max-size","preview-size","deletable","capture","disabled","readonly","after-read","before-read"])]),_:2},1032,["name","label","required","rules","disabled"])):t.type==="signature"?(z(),Y(d,{key:13,name:t.name,label:t.label,required:t.required,rules:t.rules,class:"field-no-padding"},{input:L(()=>[Ce("div",mo,[v(N,{type:t.signatureConfig?.type,"line-width":t.signatureConfig?.lineWidth,"stroke-color":t.signatureConfig?.strokeColor,"background-color":t.signatureConfig?.backgroundColor,"clear-button-text":t.signatureConfig?.clearButtonText,"confirm-button-text":t.signatureConfig?.confirmButtonText,onSubmit:_=>y(t.name,_.image)},null,8,["type","line-width","stroke-color","background-color","clear-button-text","confirm-button-text","onSubmit"]),c[t.name]?(z(),pe("div",ho,[Ce("img",{src:c[t.name],style:{"max-width":"100%","max-height":"100px",border:"1px solid #eee"}},null,8,go)])):xe("",!0)])]),_:2},1032,["name","label","required","rules"])):Qe(r.$slots,`field-${t.name}`,{key:14,field:t,value:c[t.name],updateValue:y},void 0,!0)],64))),128)),Ce("div",vo,[e.showSubmitButton?(z(),Y(A,{key:0,round:"",block:"",type:"primary","native-type":"submit"},{default:L(()=>[Te(Ne(e.submitButtonText),1)]),_:1})):xe("",!0),e.showResetButton?(z(),Y(A,{key:1,round:"",block:"",type:"default","native-type":"button",style:{"margin-top":"10px"},onClick:g},{default:L(()=>[Te(Ne(e.resetButtonText),1)]),_:1})):xe("",!0)])]),_:3},8,["label-width","label-align","input-align","error-message-align","show-error-message","validate-on-change","validate-on-blur","disabled","readonly"])}}}),bo=Nt(fo,[["__scopeId","data-v-97285903"]]),yo={class:"form-example-container"},Co={class:"content-wrapper"},wo={style:{padding:"16px"}},ko=K({name:"FormExample",__name:"FormExample",setup(e){const n=xa(),o=H(),l=[{name:"username",label:"用户名",type:"text",placeholder:"请输入用户名",required:!0,maxlength:20,showWordLimit:!0,rules:[{pattern:/^[a-zA-Z0-9_]{3,20}$/,message:"用户名只能包含字母、数字和下划线，长度3-20位"}]},{name:"password",label:"密码",type:"password",placeholder:"请输入密码",required:!0,clearable:!0,rules:[{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d@$!%*?&]{8,}$/,message:"密码至少8位，包含大小写字母和数字"}]},{name:"email",label:"邮箱",type:"email",placeholder:"请输入邮箱地址",required:!0,leftIcon:"envelop-o"},{name:"phone",label:"手机号",type:"tel",placeholder:"请输入手机号",required:!0,rules:[{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号"}]},{name:"bio",label:"个人简介",type:"textarea",placeholder:"请输入个人简介",maxlength:200,showWordLimit:!0,rows:3},{name:"gender",label:"性别",type:"radio-group",required:!0,options:[{text:"男",value:"male"},{text:"女",value:"female"},{text:"其他",value:"other"}]},{name:"hobbies",label:"兴趣爱好",type:"checkbox-group",options:[{text:"阅读",value:"reading"},{text:"运动",value:"sports"},{text:"音乐",value:"music"},{text:"旅行",value:"travel"}]},{name:"city",label:"所在城市",type:"picker",placeholder:"请选择城市",required:!0,options:[{text:"北京",value:"beijing"},{text:"上海",value:"shanghai"},{text:"广州",value:"guangzhou"},{text:"深圳",value:"shenzhen"},{text:"杭州",value:"hangzhou"}]},{name:"region",label:"所在地区",type:"cascader",placeholder:"请选择地区",options:[{text:"北京市",value:"beijing",children:[{text:"东城区",value:"dongcheng"},{text:"西城区",value:"xicheng"},{text:"朝阳区",value:"chaoyang"}]},{text:"上海市",value:"shanghai",children:[{text:"黄浦区",value:"huangpu"},{text:"徐汇区",value:"xuhui"},{text:"长宁区",value:"changning"}]}]},{name:"birthday",label:"生日",type:"date",placeholder:"请选择生日",datePickerConfig:{minDate:new Date(1950,0,1),maxDate:new Date,title:"选择生日"}},{name:"workTime",label:"工作时间",type:"time",placeholder:"请选择时间",datePickerConfig:{minTime:"09:00",maxTime:"18:00",title:"选择工作时间"}},{name:"appointment",label:"预约日期",type:"calendar",placeholder:"请选择预约日期",calendarConfig:{type:"single",color:"#1989fa"}},{name:"dateRange",label:"日期范围",type:"calendar",placeholder:"请选择起止日期",calendarConfig:{type:"range",color:"#07c160",allowSameDay:!0,confirmText:"完成"}},{name:"rating",label:"满意度评分",type:"rate",rateConfig:{count:5,size:"20px",color:"#ffd21e",allowHalf:!0}},{name:"volume",label:"音量",type:"slider",sliderConfig:{min:0,max:100,step:1,activeColor:"#1989fa"}},{name:"quantity",label:"数量",type:"stepper",stepperConfig:{min:1,max:100,step:1,integer:!0}},{name:"notification",label:"接收通知",type:"switch",switchConfig:{activeColor:"#13ce66",inactiveColor:"#ff4949"}},{name:"avatar",label:"头像",type:"uploader",uploadConfig:{maxCount:1,maxSize:2*1024*1024,accept:"image/*",beforeRead:g=>g.size>2*1024*1024?(Se("图片大小不能超过2MB"),!1):!0,afterRead:g=>{console.log("Read file:",g)}}},{name:"signature",label:"签名",type:"signature",signatureConfig:{lineWidth:2,strokeColor:"#000",type:"png",clearButtonText:"重签",confirmButtonText:"确认"}}],u={username:"testuser",gender:"male",hobbies:["reading","music"],city:"beijing",rating:4.5,volume:50,quantity:1,notification:!0},h=g=>{console.log("表单提交:",g),pa("提交成功！")},c=g=>{console.log("表单重置:",g),Se("表单已重置")},T=(g,y)=>{console.log(`字段 ${g} 变化:`,y)},D=g=>{console.log("表单验证失败:",g),g.errors&&g.errors.length>0&&Se(g.errors[0].message)},w=()=>{o.value?.setValues({username:"New Name",volume:80})},M=()=>{console.log(o.value?.getValues()),Se("已打印到控制台")};return(g,y)=>{const k=Da,V=Fe;return z(),pe("div",yo,[v(k,{title:"BaseForm 示例","left-arrow":"",onClickLeft:y[0]||(y[0]=I=>ka(n).back())}),Ce("div",Co,[v(bo,{ref_key:"formRef",ref:o,fields:l,"initial-values":u,"label-width":"7em",onSubmit:h,onReset:c,onChange:T,onFailed:D},null,512),Ce("div",wo,[v(V,{block:"",style:{"margin-bottom":"10px"},onClick:w},{default:L(()=>[...y[1]||(y[1]=[Te("设置部分值",-1)])]),_:1}),v(V,{block:"",onClick:M},{default:L(()=>[...y[2]||(y[2]=[Te("获取当前值",-1)])]),_:1})])])])}}}),Ao=Nt(ko,[["__scopeId","data-v-0089e3e3"]]);export{Ao as default};
