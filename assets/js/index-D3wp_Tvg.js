import{az as Be,aA as Ae,aB as Le,aC as Re,aD as De,d as G,T as U,z as J,K as ze,r as N,Y as oe,c as x,ad as A,D as X,B as Q,g as Oe,F as O,E as $e,b as f,U as T,ar as Ne,V as Fe,O as q,af as F,x as L,y as Ge,J as M,a8 as Y,a7 as We,aE as ae,j as je,a4 as H,as as qe,aF as Ke,aG as Ye,I as re,X as He,$ as Ue,a9 as ce,v as se,W as Je,a2 as Xe}from"./index-UCp7_DwV.js";import{C as Qe,c as Ze}from"./index-C6woagMq.js";import{u as pe}from"./use-id-CKoO9PWb.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"0b41023e4cb7a08a546cdc5389cade6da56f1f8a"}}catch{}})();try{(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},n=new e.Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="eb8ace11-dc76-46c7-8975-f1faacb61646",e._sentryDebugIdIdentifier="sentry-dbid-eb8ace11-dc76-46c7-8975-f1faacb61646")})()}catch{}function ue(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function et(e,n){if(ue(e)){if(n.required)return!1;if(n.validateEmpty===!1)return!0}return!(n.pattern&&!n.pattern.test(String(e)))}function tt(e,n){return new Promise(o=>{const s=n.validator(e,n);if(De(s)){s.then(o);return}o(s)})}function le(e,n){const{message:o}=n;return Re(o)?o(e,n):o||""}function nt({target:e}){e.composing=!0}function ie({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function at(e,n){const o=Be();e.style.height="auto";let s=e.scrollHeight;if(Ae(n)){const{maxHeight:a,minHeight:r}=n;a!==void 0&&(s=Math.min(s,a)),r!==void 0&&(s=Math.max(s,r))}s&&(e.style.height=`${s}px`,Le(o))}function lt(e,n){return e==="number"&&(e="text",n??(n="decimal")),e==="digit"&&(e="tel",n??(n="numeric")),{type:e,inputmode:n}}function $(e){return[...e].length}function K(e,n){return[...e].slice(0,n).join("")}const[it,k]=J("field"),ot={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:M,max:Number,min:Number,formatter:Function,clearIcon:L("clear"),modelValue:Ge(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:L("focus"),formatTrigger:L("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},inputmode:String},rt=U({},Ze,ot,{rows:M,type:L("text"),rules:Array,autosize:[Boolean,Object],labelWidth:M,labelClass:Y,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var ct=G({name:it,props:rt,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:n,slots:o}){const s=pe(),a=ze({status:"unvalidated",focused:!1,validateMessage:""}),r=N(),I=N(),u=N(),{parent:d}=oe(We),v=()=>{var t;return String((t=e.modelValue)!=null?t:"")},g=t=>{if(T(e[t]))return e[t];if(d&&T(d.props[t]))return d.props[t]},h=x(()=>{const t=g("readonly");if(e.clearable&&!t){const l=v()!=="",i=e.clearTrigger==="always"||e.clearTrigger==="focus"&&a.focused;return l&&i}return!1}),c=x(()=>u.value&&o.input?u.value():e.modelValue),E=x(()=>{var t;const l=g("required");return l==="auto"?(t=e.rules)==null?void 0:t.some(i=>i.required):l}),y=t=>t.reduce((l,i)=>l.then(()=>{if(a.status==="failed")return;let{value:m}=c;if(i.formatter&&(m=i.formatter(m,i)),!et(m,i)){a.status="failed",a.validateMessage=le(m,i);return}if(i.validator)return ue(m)&&i.validateEmpty===!1?void 0:tt(m,i).then(b=>{b&&typeof b=="string"?(a.status="failed",a.validateMessage=b):b===!1&&(a.status="failed",a.validateMessage=le(m,i))})}),Promise.resolve()),C=()=>{a.status="unvalidated",a.validateMessage=""},B=()=>n("endValidate",{status:a.status,message:a.validateMessage}),_=(t=e.rules)=>new Promise(l=>{C(),t?(n("startValidate"),y(t).then(()=>{a.status==="failed"?(l({name:e.name,message:a.validateMessage}),B()):(a.status="passed",l(),B())})):l()}),W=t=>{if(d&&e.rules){const{validateTrigger:l}=d.props,i=ae(l).includes(t),m=e.rules.filter(b=>b.trigger?ae(b.trigger).includes(t):i);m.length&&_(m)}},me=t=>{var l;const{maxlength:i}=e;if(T(i)&&$(t)>+i){const m=v();if(m&&$(m)===+i)return m;const b=(l=r.value)==null?void 0:l.selectionEnd;if(a.focused&&b){const w=[...t],P=w.length-+i;return w.splice(b-P,P),w.join("")}return K(t,+i)}return t},R=(t,l="onChange")=>{var i,m;const b=t;t=me(t);const w=b.length-t.length;if(e.type==="number"||e.type==="digit"){const V=e.type==="number";if(t=Ne(t,V,V),l==="onBlur"&&t!==""&&(e.min!==void 0||e.max!==void 0)){const S=Fe(+t,(i=e.min)!=null?i:-1/0,(m=e.max)!=null?m:1/0);+t!==S&&(t=S.toString())}}let P=0;if(e.formatter&&l===e.formatTrigger){const{formatter:V,maxlength:S}=e;if(t=V(t),T(S)&&$(t)>+S&&(t=K(t,+S)),r.value&&a.focused){const{selectionEnd:z}=r.value,ne=K(b,z);P=V(ne).length-ne.length}}if(r.value&&r.value.value!==t)if(a.focused){let{selectionStart:V,selectionEnd:S}=r.value;if(r.value.value=t,T(V)&&T(S)){const z=t.length;w?(V-=w,S-=w):P&&(V+=P,S+=P),r.value.setSelectionRange(Math.min(V,z),Math.min(S,z))}}else r.value.value=t;t!==e.modelValue&&n("update:modelValue",t)},be=t=>{t.target.composing||R(t.target.value)},j=()=>{var t;return(t=r.value)==null?void 0:t.blur()},Z=()=>{var t;return(t=r.value)==null?void 0:t.focus()},D=()=>{const t=r.value;e.type==="textarea"&&e.autosize&&t&&at(t,e.autosize)},he=t=>{a.focused=!0,n("focus",t),O(D),g("readonly")&&j()},ve=t=>{a.focused=!1,R(v(),"onBlur"),n("blur",t),!g("readonly")&&(W("onBlur"),O(D),qe())},p=t=>n("clickInput",t),ke=t=>n("clickLeftIcon",t),ye=t=>n("clickRightIcon",t),Ce=t=>{q(t),n("update:modelValue",""),n("clear",t)},ee=x(()=>{if(typeof e.error=="boolean")return e.error;if(d&&d.props.showError&&a.status==="failed")return!0}),Se=x(()=>{const t=g("labelWidth"),l=g("labelAlign");if(t&&l!=="top")return{width:A(t)}}),xe=t=>{t.keyCode===13&&(!(d&&d.props.submitOnEnter)&&e.type!=="textarea"&&q(t),e.type==="search"&&j()),n("keypress",t)},te=()=>e.id||`${s}-input`,Ve=()=>a.status,Ie=()=>{const t=k("control",[g("inputAlign"),{error:ee.value,custom:!!o.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(o.input)return f("div",{class:t,onClick:p},[o.input()]);const l={id:te(),ref:r,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:t,disabled:g("disabled"),readonly:g("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?`${s}-label`:void 0,"data-allow-mismatch":"attribute",onBlur:ve,onFocus:he,onInput:be,onClick:p,onChange:ie,onKeypress:xe,onCompositionend:ie,onCompositionstart:nt};return e.type==="textarea"?f("textarea",H(l,{inputmode:e.inputmode}),null):f("input",H(lt(e.type,e.inputmode),l),null)},Ee=()=>{const t=o["left-icon"];if(e.leftIcon||t)return f("div",{class:k("left-icon"),onClick:ke},[t?t():f(F,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},we=()=>{const t=o["right-icon"];if(e.rightIcon||t)return f("div",{class:k("right-icon"),onClick:ye},[t?t():f(F,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},Pe=()=>{if(e.showWordLimit&&e.maxlength){const t=$(v());return f("div",{class:k("word-limit")},[f("span",{class:k("word-num")},[t]),je("/"),e.maxlength])}},_e=()=>{if(d&&d.props.showErrorMessage===!1)return;const t=e.errorMessage||a.validateMessage;if(t){const l=o["error-message"],i=g("errorMessageAlign");return f("div",{class:k("error-message",i)},[l?l({message:t}):t])}},Te=()=>{const t=g("labelWidth"),l=g("labelAlign"),i=g("colon")?":":"";if(o.label)return[o.label(),i];if(e.label)return f("label",{id:`${s}-label`,for:o.input?void 0:te(),"data-allow-mismatch":"attribute",onClick:m=>{q(m),Z()},style:l==="top"&&t?{width:A(t)}:void 0},[e.label+i])},Me=()=>[f("div",{class:k("body")},[Ie(),h.value&&f(F,{ref:I,name:e.clearIcon,class:k("clear")},null),we(),o.button&&f("div",{class:k("button")},[o.button()])]),Pe(),_e()];return X({blur:j,focus:Z,validate:_,formValue:c,resetValidation:C,getValidationStatus:Ve}),Ke(Ye,{customValue:u,resetValidation:C,validateWithTrigger:W}),Q(()=>e.modelValue,()=>{R(v()),C(),W("onChange"),O(D)}),Oe(()=>{R(v(),e.formatTrigger),O(D)}),$e("touchstart",Ce,{target:x(()=>{var t;return(t=I.value)==null?void 0:t.$el})}),()=>{const t=g("disabled"),l=g("labelAlign"),i=Ee(),m=()=>{const b=Te();return l==="top"?[i,b].filter(Boolean):b||[]};return f(Qe,{size:e.size,class:k({error:ee.value,disabled:t,[`label-${l}`]:l}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:Se.value,valueClass:k("value"),titleClass:[k("label",[l,{required:E.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:i&&l!=="top"?()=>i:null,title:m,value:Me,extra:o.extra})}}});const yt=re(ct),[de,st]=J("checkbox-group"),ut={max:M,shape:L("round"),disabled:Boolean,iconSize:M,direction:String,modelValue:He(),checkedColor:String},fe=Symbol(de);var Ct=G({name:de,props:ut,emits:["change","update:modelValue"],setup(e,{emit:n,slots:o}){const{children:s,linkChildren:a}=Ue(fe),r=u=>n("update:modelValue",u),I=(u={})=>{typeof u=="boolean"&&(u={checked:u});const{checked:d,skipDisabled:v}=u,h=s.filter(c=>c.props.bindGroup?c.props.disabled&&v?c.checked.value:d??!c.checked.value:!1).map(c=>c.name);r(h)};return Q(()=>e.modelValue,u=>n("change",u)),X({toggleAll:I}),ce(()=>e.modelValue),a({props:e,updateValue:r}),()=>{var u;return f("div",{class:st([e.direction])},[(u=o.default)==null?void 0:u.call(o)])}}});const ge={name:Y,disabled:Boolean,iconSize:M,modelValue:Y,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var dt=G({props:U({},ge,{bem:Je(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:se,indeterminate:{type:Boolean,default:null}}),emits:["click","toggle"],setup(e,{emit:n,slots:o}){const s=N(),a=c=>{if(e.parent&&e.bindGroup)return e.parent.props[c]},r=x(()=>{if(e.parent&&e.bindGroup){const c=a("disabled")||e.disabled;if(e.role==="checkbox"){const E=a("modelValue").length,y=a("max"),C=y&&E>=+y;return c||C&&!e.checked}return c}return e.disabled}),I=x(()=>a("direction")),u=x(()=>{const c=e.checkedColor||a("checkedColor");if(c&&(e.checked||e.indeterminate)&&!r.value)return{borderColor:c,backgroundColor:c}}),d=x(()=>e.shape||a("shape")||"round"),v=c=>{const{target:E}=c,y=s.value,C=y===E||y?.contains(E);!r.value&&(C||!e.labelDisabled)&&n("toggle"),n("click",c)},g=()=>{var c,E;const{bem:y,checked:C,indeterminate:B}=e,_=e.iconSize||a("iconSize");return f("div",{ref:s,class:y("icon",[d.value,{disabled:r.value,checked:C,indeterminate:B}]),style:d.value!=="dot"?{fontSize:A(_)}:{width:A(_),height:A(_),borderColor:(c=u.value)==null?void 0:c.borderColor}},[o.icon?o.icon({checked:C,disabled:r.value}):d.value!=="dot"?f(F,{name:B?"minus":"success",style:u.value},null):f("div",{class:y("icon--dot__icon"),style:{backgroundColor:(E=u.value)==null?void 0:E.backgroundColor}},null)])},h=()=>{const{checked:c}=e;if(o.default)return f("span",{class:e.bem("label",[e.labelPosition,{disabled:r.value}])},[o.default({checked:c,disabled:r.value})])};return()=>{const c=e.labelPosition==="left"?[h(),g()]:[g(),h()];return f("div",{role:e.role,class:e.bem([{disabled:r.value,"label-disabled":e.labelDisabled},I.value]),tabindex:r.value?void 0:0,"aria-checked":e.checked,onClick:v},[c])}}});const[ft,gt]=J("checkbox"),mt=U({},ge,{shape:String,bindGroup:se,indeterminate:{type:Boolean,default:null}});var bt=G({name:ft,props:mt,emits:["change","update:modelValue"],setup(e,{emit:n,slots:o}){const{parent:s}=oe(fe),a=u=>{const{name:d}=e,{max:v,modelValue:g}=s.props,h=g.slice();if(u)!(v&&h.length>=+v)&&!h.includes(d)&&(h.push(d),e.bindGroup&&s.updateValue(h));else{const c=h.indexOf(d);c!==-1&&(h.splice(c,1),e.bindGroup&&s.updateValue(h))}},r=x(()=>s&&e.bindGroup?s.props.modelValue.indexOf(e.name)!==-1:!!e.modelValue),I=(u=!r.value)=>{s&&e.bindGroup?a(u):n("update:modelValue",u),e.indeterminate!==null&&n("change",u)};return Q(()=>e.modelValue,u=>{e.indeterminate===null&&n("change",u)}),X({toggle:I,props:e,checked:r}),ce(()=>e.modelValue),()=>f(dt,H({bem:gt,role:"checkbox",parent:s,checked:r.value,onToggle:I},e),Xe(o,["default","icon"]))}});const St=re(bt);export{St as C,yt as F,dt as a,ge as c,ot as f,Ct as s};
