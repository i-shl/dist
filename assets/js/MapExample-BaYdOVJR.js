import{d as f,r as b,a2 as g,aV as y,p as u,x as m,a as l,X as w,z as v}from"./index-BpSWxPrb.js";import{N as h}from"./index-CnUNdLZ-.js";import{_}from"./_plugin-vue_export-helper-Ckl9UNWA.js";import"./use-placeholder-C9eRe215.js";import"./use-height-DgynZI0v.js";(function(){try{var n=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};n.SENTRY_RELEASE={id:"f7e57e3c537ca0bc1e582f9ec803810f33e7d1e0"}}catch{}})();try{(function(){var n=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new n.Error().stack;t&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[t]="1b573c38-ff43-4fd1-a4c7-26801c4ae0dc",n._sentryDebugIdIdentifier="sentry-dbid-1b573c38-ff43-4fd1-a4c7-26801c4ae0dc")})()}catch{}const p="tianditu-api",T="dbbcf35162406f7e2beb641dc342a88d",E=f({name:"BusinessMap",__name:"Map",props:{zoom:{},center:{}},setup(n){const t=n,o=b(null);let a=null;const c=()=>{const e=window.T;if(!e||!o.value)return;const{lng:s,lat:i}=t.center||{lng:116.40769,lat:39.89945};if(o.value.clientHeight===0){setTimeout(c,100);return}if(!a)try{a=new e.Map(o.value),a.centerAndZoom(new e.LngLat(s,i),t.zoom||12),a.enableScrollWheelZoom();const d=new e.Marker(new e.LngLat(s,i));a.addOverLay(d)}catch(d){console.error("Map init error:",d)}},r=()=>{if(window.T){c();return}let e=document.getElementById(p);e?e.addEventListener("load",c):(e=document.createElement("script"),e.id=p,e.src=`https://api.tianditu.gov.cn/api?v=4.0&tk=${T}`,e.onload=c,document.head.appendChild(e))};return g(()=>{r()}),y(()=>{a=null}),(e,s)=>(m(),u("div",{ref_key:"mapContainer",ref:o,class:"map-container"},null,512))}}),I=_(E,[["__scopeId","data-v-18225c1c"]]),M={class:"map-example-page"},k={class:"content-area"},x=f({__name:"MapExample",setup(n){const t=v(),o=()=>{t.back()};return(a,c)=>{const r=h;return m(),u("div",M,[l(r,{title:"天地图组件示例","left-text":"返回","left-arrow":"",onClickLeft:o}),w("div",k,[l(I,{zoom:12,center:{lng:116.40769,lat:39.89945}})])])}}}),S=_(x,[["__scopeId","data-v-66a73cad"]]);export{S as default};
