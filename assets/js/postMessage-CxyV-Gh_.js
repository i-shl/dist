(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"051ca6428b97c6d36ca483b6bd6aaeed95b441f8"}}catch{}})();try{(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},s=new e.Error().stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="4930cf59-77a4-4461-8537-146d1261e532",e._sentryDebugIdIdentifier="sentry-dbid-4930cf59-77a4-4461-8537-146d1261e532")})()}catch{}function t(){return typeof uni<"u"}let i=!1;typeof document<"u"&&(document.addEventListener("UniAppJSBridgeReady",()=>{i=!0,console.log("[postMessage] UniAppJSBridgeReady 事件已触发")}),t()&&(i=!0));function r(e){return new Promise((s,o)=>{if(!t()){const n=new Error("[postMessage] uni 对象不可用，可能不在小程序 WebView 环境中");console.warn(n.message),o(n);return}i||console.warn("[postMessage] UniAppJSBridge 可能尚未就绪，尝试发送消息");try{if(uni.webView&&typeof uni.webView.postMessage=="function"){uni.webView.postMessage({data:e}),console.log("[postMessage] 消息已通过 uni.webView.postMessage 发送:",e),s();return}if(typeof uni.postMessage=="function"){uni.postMessage({data:e}),console.log("[postMessage] 消息已通过 uni.postMessage 发送:",e),s();return}const n=new Error("[postMessage] uni.postMessage 方法不可用");console.warn(n.message),o(n)}catch(n){console.error("[postMessage] 发送消息失败:",n),o(n)}})}const a={TEST:"test",UPDATE_USER:"updateUser",REFRESH_TOKEN:"refreshToken",NAVIGATE:"navigate",SWITCH_TAB:"switchTab",NAVIGATE_BACK:"navigateBack"};export{a as M,r as p};
