import{a2 as i}from"./index-DczEBnbp.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"051ca6428b97c6d36ca483b6bd6aaeed95b441f8"}}catch{}})();try{(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},n=new e.Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="6b120801-342d-4935-9413-ba9c385cc232",e._sentryDebugIdIdentifier="sentry-dbid-6b120801-342d-4935-9413-ba9c385cc232")})()}catch{}function r(){const e=i();return["mp-weixin","mp-qiwei","mp-lark"].includes(e.env)}async function a(e){try{if(!r())return console.warn("当前不在小程序环境中，无法发送消息"),!1;if(typeof window>"u"||typeof window.postMessage!="function")return console.warn("window.postMessage 不可用"),!1;const n={data:e};try{return window.postMessage(n,"*"),window.parent&&window.parent!==window&&window.parent.postMessage(n,"*"),console.log("消息已通过 window.postMessage 发送到小程序:",e),!0}catch(o){return console.error("window.postMessage 发送失败:",o),!1}}catch(n){return console.error("发送消息失败:",n),!1}}async function c(e){return await a({action:"test",page:e,timestamp:Date.now(),message:`来自 ${e} 页面的测试消息`})}function t(){if(typeof window<"u"&&window.uni)return window.uni;if(typeof globalThis<"u"&&globalThis.uni)return globalThis.uni}function u(e="/home"){if(!r())return console.warn("当前不在小程序环境中，无法调用 uni.navigateTo"),!1;const n=t();if(!n||typeof n.navigateTo!="function")return console.warn("uni.navigateTo 不可用"),!1;try{return n.navigateTo({url:e}),console.log("✅ uni.navigateTo 调用成功:",e),!0}catch(o){return console.error("❌ uni.navigateTo 调用失败:",o),!1}}function f(e="/home"){if(!r())return console.warn("当前不在小程序环境中，无法调用 uni.redirectTo"),!1;const n=t();if(!n||typeof n.redirectTo!="function")return console.warn("uni.redirectTo 不可用"),!1;try{return n.redirectTo({url:e}),console.log("✅ uni.redirectTo 调用成功:",e),!0}catch(o){return console.error("❌ uni.redirectTo 调用失败:",o),!1}}function l(e="/home"){if(!r())return console.warn("当前不在小程序环境中，无法调用 uni.reLaunch"),!1;const n=t();if(!n||typeof n.reLaunch!="function")return console.warn("uni.reLaunch 不可用"),!1;try{return n.reLaunch({url:e}),console.log("✅ uni.reLaunch 调用成功:",e),!0}catch(o){return console.error("❌ uni.reLaunch 调用失败:",o),!1}}function d(e="/home"){if(!r())return console.warn("当前不在小程序环境中，无法调用 uni.switchTab"),!1;const n=t();if(!n||typeof n.switchTab!="function")return console.warn("uni.switchTab 不可用"),!1;try{return n.switchTab({url:e}),console.log("✅ uni.switchTab 调用成功:",e),!0}catch(o){return console.error("❌ uni.switchTab 调用失败:",o),!1}}function w(e=1){if(!r())return console.warn("当前不在小程序环境中，无法调用 uni.navigateBack"),!1;const n=t();if(!n||typeof n.navigateBack!="function")return console.warn("uni.navigateBack 不可用"),!1;try{return n.navigateBack(),console.log("✅ uni.navigateBack 调用成功, delta:",e),!0}catch(o){return console.error("❌ uni.navigateBack 调用失败:",o),!1}}export{a,f as b,l as c,d,w as e,c as s,u as t};
