import{d as j,n as h,m as c,t as r,c as J,r as M,i as S,K as R,ar as Q,o as P,ao as X,a as v,aC as V,aD as x,l as k,ak as A,b5 as z,ax as q,ac as Z,b6 as p,ah as E,b as ee,aR as te,aq as ne,w as ae}from"./index-Dl01RQ6O.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"dadf989baaa19ca9a7dda97cefda507d3b8f8f5a"}}catch{}})();try{(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},l=new e.Error().stack;l&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[l]="9fb3260f-d5c8-4429-95a5-57da00c6cdb5",e._sentryDebugIdIdentifier="sentry-dbid-9fb3260f-d5c8-4429-95a5-57da00c6cdb5")})()}catch{}const[le,y]=J("stepper"),ie=200,w=(e,l)=>String(e)===String(l),ue={min:c(1),max:c(1/0),name:c(""),step:c(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:r,showMinus:r,showInput:r,longPress:r,autoFixed:r,allowEmpty:Boolean,modelValue:h,inputWidth:h,buttonSize:h,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:c(1),decimalLength:h};var se=j({name:le,props:ue,emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(e,{emit:l}){const d=(t,n=!0)=>{const{min:i,max:g,allowEmpty:u,decimalLength:o}=e;return u&&t===""||(typeof t=="number"&&String(t).includes("e")&&(t=t.toFixed(o?+o:17)),t=z(String(t),!e.integer),t=t===""?0:+t,t=Number.isNaN(t)?+i:t,t=n?Math.max(Math.min(+g,t),+i):t,q(o)&&(t=t.toFixed(+o))),t},G=()=>{var t;const n=(t=e.modelValue)!=null?t:e.defaultValue,i=d(n);return w(i,e.modelValue)||l("update:modelValue",i),i};let s;const _=M(),a=M(G()),f=S(()=>e.disabled||e.disableMinus||+a.value<=+e.min),m=S(()=>e.disabled||e.disablePlus||+a.value>=+e.max),K=S(()=>({width:R(e.inputWidth),height:R(e.buttonSize)})),N=S(()=>Q(e.buttonSize)),O=()=>{const t=d(a.value);w(t,a.value)||(a.value=t)},C=t=>{e.beforeChange?ee(e.beforeChange,{args:[t],done(){a.value=t}}):a.value=t},T=()=>{if(s==="plus"&&m.value||s==="minus"&&f.value){l("overlimit",s);return}const t=s==="minus"?-e.step:+e.step,n=d(ne(+a.value,t));C(n),l(s)},W=t=>{const n=t.target,{value:i}=n,{decimalLength:g}=e;let u=z(String(i),!e.integer);if(q(g)&&u.includes(".")){const F=u.split(".");u=`${F[0]}.${F[1].slice(0,+g)}`}e.beforeChange?n.value=String(a.value):w(i,u)||(n.value=u);const o=u===String(+u);C(o?+u:u)},$=t=>{var n;e.disableInput?(n=_.value)==null||n.blur():l("focus",t)},H=t=>{const n=t.target,i=d(n.value,e.autoFixed);n.value=String(i),a.value=i,Z(()=>{l("blur",t),p()})};let I,b;const D=()=>{b=setTimeout(()=>{T(),D()},ie)},U=()=>{e.longPress&&(I=!1,clearTimeout(b),b=setTimeout(()=>{I=!0,T(),D()},te))},L=t=>{e.longPress&&(clearTimeout(b),I&&E(t))},Y=t=>{e.disableInput&&E(t)},B=t=>({onClick:n=>{E(n),s=t,T()},onTouchstartPassive:()=>{s=t,U()},onTouchend:L,onTouchcancel:L});return P(()=>[e.max,e.min,e.integer,e.decimalLength],O),P(()=>e.modelValue,t=>{w(t,a.value)||(a.value=d(t))}),P(a,t=>{l("update:modelValue",t),l("change",t,{name:e.name})}),X(()=>e.modelValue),()=>v("div",{role:"group",class:y([e.theme])},[V(v("button",k({type:"button",style:N.value,class:[y("minus",{disabled:f.value}),{[A]:!f.value}],"aria-disabled":f.value||void 0},B("minus")),null),[[x,e.showMinus]]),V(v("input",{ref:_,type:e.integer?"tel":"text",role:"spinbutton",class:y("input"),value:a.value,style:K.value,disabled:e.disabled,readonly:e.disableInput,inputmode:e.integer?"numeric":"decimal",placeholder:e.placeholder,autocomplete:"off","aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":a.value,onBlur:H,onInput:W,onFocus:$,onMousedown:Y},null),[[x,e.showInput]]),V(v("button",k({type:"button",style:N.value,class:[y("plus",{disabled:m.value}),{[A]:!m.value}],"aria-disabled":m.value||void 0},B("plus")),null),[[x,e.showPlus]])])}});const de=ae(se);export{de as S};
