import{d as O,n as ie,t as he,M as ne,aj as Oe,c as le,r as E,e as xe,o as Y,a as h,ac as Ve,I as ve,ak as Le,w as Z,i as H,D as ke,l as $e,H as qe,al as Te,am as K,an as ze,m as N,af as Me,ao as Ue,ab as Ee,ah as be,K as Ae,ad as ue,T as Se,a2 as Xe,ap as Ge,aq as Ke,ar as Ze,as as Je,at as Qe,E as De,W as S,s as R,x as k,p as ae,X as G,y as ye,F as ce,$ as ee,ai as Ce,au as ea,a3 as aa,av as ta,P as na,A as te,C as me,Z as de,Y as oa}from"./index-Dl01RQ6O.js";import{U as la}from"./index-Da-GO5hL.js";import{S as ra}from"./index-DOfKwWT7.js";import{S as sa}from"./index-SHtNDCB7.js";import{C as ia}from"./index-DEvwBoeL.js";import"./index-BqICLX6q.js";import{P as _e,g as oe,a as ua,s as Fe,f as Ne,p as He,b as ca,C as ma,R as da,c as ga}from"./index-BlOmRS98.js";import"./index-rJ0zoI5p.js";import{u as Ie,T as ha,a as va}from"./index-Agfgz_aq.js";import"./index-BOjqb5K1.js";import{F as ba}from"./index-eAYjl05a.js";import{S as pa}from"./index-6tEGXLin.js";import{B as pe}from"./index-DOrlSKCD.js";import{F as ya}from"./index-DZeZBNML.js";import{C as Ca}from"./index-BBKpFkwW.js";import{_ as Ye}from"./_plugin-vue_export-helper-CbkZt4eH.js";import"./index-B64wQTeq.js";import"./use-height-fYRUoBwt.js";import"./use-id-BLwlvdqR.js";import"./use-route-DZOD05gS.js";import"./use-tab-status-D9S_OVoB.js";(function(){try{var a=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};a.SENTRY_RELEASE={id:"dadf989baaa19ca9a7dda97cefda507d3b8f8f5a"}}catch{}})();try{(function(){var a=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},d=new a.Error().stack;d&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[d]="aecc56e5-befb-433c-bc1d-5e15ae7a9aeb",a._sentryDebugIdIdentifier="sentry-dbid-aecc56e5-befb-433c-bc1d-5e15ae7a9aeb")})()}catch{}const[fa,I,xa]=le("cascader"),ka={title:String,options:Oe(),closeable:he,swipeable:he,closeIcon:ne("cross"),showHeader:he,modelValue:ie,fieldNames:Object,placeholder:String,activeColor:String};var _a=O({name:fa,props:ka,emits:["close","change","finish","clickTab","update:modelValue"],setup(a,{slots:d,emit:_}){const c=E([]),f=E(0),[g,u]=Ie(),{text:y,value:x,children:v}=xe({text:"text",value:"value",children:"children"},a.fieldNames),C=(t,o)=>{for(const i of t){if(i[x]===o)return[i];if(i[v]){const b=C(i[v],o);if(b)return[i,...b]}}},V=()=>{const{options:t,modelValue:o}=a;if(o!==void 0){const i=C(t,o);if(i){let b=t;c.value=i.map(w=>{const A={options:b,selected:w},l=b.find(p=>p[x]===w[x]);return l&&(b=l[v]),A}),b&&c.value.push({options:b,selected:null}),Ve(()=>{f.value=c.value.length-1});return}}c.value=[{options:t,selected:null}]},m=(t,o)=>{if(t.disabled)return;if(c.value[o].selected=t,c.value.length>o+1&&(c.value=c.value.slice(0,o+1)),t[v]){const w={options:t[v],selected:null};c.value[o+1]?c.value[o+1]=w:c.value.push(w),Ve(()=>{f.value++})}const i=c.value.map(w=>w.selected).filter(Boolean);_("update:modelValue",t[x]);const b={value:t[x],tabIndex:o,selectedOptions:i};_("change",b),t[v]||_("finish",b)},$=()=>_("close"),T=({name:t,title:o})=>_("clickTab",t,o),D=()=>a.showHeader?h("div",{class:I("header")},[h("h2",{class:I("title")},[d.title?d.title():a.title]),a.closeable?h(ve,{name:a.closeIcon,class:[I("close-icon"),Le],onClick:$},null):null]):null,M=(t,o,i)=>{const{disabled:b}=t,w=!!(o&&t[x]===o[x]),A=t.color||(w?a.activeColor:void 0),l=d.option?d.option({option:t,selected:w}):h("span",null,[t[y]]);return h("li",{ref:w?u(i):void 0,role:"menuitemradio",class:[I("option",{selected:w,disabled:b}),t.className],style:{color:A},tabindex:b?void 0:w?0:-1,"aria-checked":w,"aria-disabled":b||void 0,onClick:()=>m(t,i)},[l,w?h(ve,{name:"success",class:I("selected-icon")},null):null])},U=(t,o,i)=>h("ul",{role:"menu",class:I("options")},[t.map(b=>M(b,o,i))]),q=(t,o)=>{const{options:i,selected:b}=t,w=a.placeholder||xa("select"),A=b?b[y]:w;return h(va,{title:A,titleClass:I("tab",{unselected:!b})},{default:()=>{var l,p;return[(l=d["options-top"])==null?void 0:l.call(d,{tabIndex:o}),U(i,b,o),(p=d["options-bottom"])==null?void 0:p.call(d,{tabIndex:o})]}})},r=()=>h(ha,{active:f.value,"onUpdate:active":t=>f.value=t,shrink:!0,animated:!0,class:I("tabs"),color:a.activeColor,swipeable:a.swipeable,onClickTab:T},{default:()=>[c.value.map(q)]}),n=t=>{const o=t.parentElement;o&&(o.scrollTop=t.offsetTop-(o.offsetHeight-t.offsetHeight)/2)};return V(),Y(f,t=>{const o=g.value[t];o&&n(o)}),Y(()=>a.options,V,{deep:!0}),Y(()=>a.modelValue,t=>{t!==void 0&&c.value.map(i=>{var b;return(b=i.selected)==null?void 0:b[x]}).includes(t)||V()}),()=>h("div",{class:I()},[D(),r()])}});const wa=Z(_a),Be=new Date().getFullYear(),[Va]=le("date-picker"),Ta=xe({},Fe,{columnsType:{type:Array,default:()=>["year","month","day"]},minDate:{type:Date,default:()=>new Date(Be-10,0,1),validator:Te},maxDate:{type:Date,default:()=>new Date(Be+10,11,31),validator:Te}});var Sa=O({name:Va,props:Ta,emits:["confirm","cancel","change","update:modelValue"],setup(a,{emit:d,slots:_}){const c=E(a.modelValue),f=E(!1),g=E(),u=H(()=>f.value?a.modelValue:c.value),y=t=>t===a.minDate.getFullYear(),x=t=>t===a.maxDate.getFullYear(),v=t=>t===a.minDate.getMonth()+1,C=t=>t===a.maxDate.getMonth()+1,V=t=>{const{minDate:o,columnsType:i}=a,b=i.indexOf(t),w=u.value[b];if(w)return+w;switch(t){case"year":return o.getFullYear();case"month":return o.getMonth()+1;case"day":return o.getDate()}},m=()=>{const t=a.minDate.getFullYear(),o=a.maxDate.getFullYear();return oe(t,o,"year",a.formatter,a.filter,u.value)},$=()=>{const t=V("year"),o=y(t)?a.minDate.getMonth()+1:1,i=x(t)?a.maxDate.getMonth()+1:12;return oe(o,i,"month",a.formatter,a.filter,u.value)},T=()=>{const t=V("year"),o=V("month"),i=y(t)&&v(o)?a.minDate.getDate():1,b=x(t)&&C(o)?a.maxDate.getDate():ua(t,o);return oe(i,b,"day",a.formatter,a.filter,u.value)},D=()=>{var t;return(t=g.value)==null?void 0:t.confirm()},M=()=>c.value,U=H(()=>a.columnsType.map(t=>{switch(t){case"year":return m();case"month":return $();case"day":return T();default:return[]}}));Y(c,t=>{K(t,a.modelValue)||d("update:modelValue",t)}),Y(()=>a.modelValue,(t,o)=>{f.value=K(o,c.value),t=Ne(t,U.value),K(t,c.value)||(c.value=t),f.value=!1},{immediate:!0});const q=(...t)=>d("change",...t),r=(...t)=>d("cancel",...t),n=(...t)=>d("confirm",...t);return ke({confirm:D,getSelectedDate:M}),()=>h(_e,$e({ref:g,modelValue:c.value,"onUpdate:modelValue":t=>c.value=t,columns:U.value,onChange:q,onCancel:r,onConfirm:n},qe(a,He)),_)}});const Da=Z(Sa),Ba=Z(ca),[Ra,ge]=le("rate");function Pa(a,d,_,c){return a>=d?{status:"full",value:1}:a+.5>=d&&_&&!c?{status:"half",value:.5}:a+1>=d&&_&&c?{status:"half",value:Math.round((a-d+1)*1e10)/1e10}:{status:"void",value:0}}const $a={size:ie,icon:ne("star"),color:String,count:N(5),gutter:ie,clearable:Boolean,readonly:Boolean,disabled:Boolean,voidIcon:ne("star-o"),allowHalf:Boolean,voidColor:String,touchable:he,iconPrefix:String,modelValue:ze(0),disabledColor:String};var qa=O({name:Ra,props:$a,emits:["change","update:modelValue"],setup(a,{emit:d}){const _=Me(),[c,f]=Ie(),g=E(),u=H(()=>a.readonly||a.disabled),y=H(()=>u.value||!a.touchable),x=H(()=>Array(+a.count).fill("").map((r,n)=>Pa(a.modelValue,n+1,a.allowHalf,a.readonly)));let v,C,V=Number.MAX_SAFE_INTEGER,m=Number.MIN_SAFE_INTEGER;const $=()=>{C=ue(g);const r=c.value.map(ue);v=[],r.forEach((n,t)=>{V=Math.min(n.top,V),m=Math.max(n.top,m),a.allowHalf?v.push({score:t+.5,left:n.left,top:n.top,height:n.height},{score:t+1,left:n.left+n.width/2,top:n.top,height:n.height}):v.push({score:t+1,left:n.left,top:n.top,height:n.height})})},T=(r,n)=>{for(let t=v.length-1;t>0;t--)if(n>=C.top&&n<=C.bottom){if(r>v[t].left&&n>=v[t].top&&n<=v[t].top+v[t].height)return v[t].score}else{const o=n<C.top?V:m;if(r>v[t].left&&v[t].top===o)return v[t].score}return a.allowHalf?.5:1},D=r=>{u.value||r===a.modelValue||(d("update:modelValue",r),d("change",r))},M=r=>{y.value||(_.start(r),$())},U=r=>{if(!y.value&&(_.move(r),_.isHorizontal()&&!_.isTap.value)){const{clientX:n,clientY:t}=r.touches[0];be(r),D(T(n,t))}},q=(r,n)=>{const{icon:t,size:o,color:i,count:b,gutter:w,voidIcon:A,disabled:l,voidColor:p,allowHalf:B,iconPrefix:z,disabledColor:P}=a,F=n+1,L=r.status==="full",W=r.status==="void",j=B&&r.value>0&&r.value<1;let X;w&&F!==+b&&(X={paddingRight:Ae(w)});const J=Q=>{$();let re=B?T(Q.clientX,Q.clientY):F;a.clearable&&_.isTap.value&&re===a.modelValue&&(re=0),D(re)};return h("div",{key:n,ref:f(n),role:"radio",style:X,class:ge("item"),tabindex:l?void 0:0,"aria-setsize":b,"aria-posinset":F,"aria-checked":!W,onClick:J},[h(ve,{size:o,name:L?t:A,class:ge("icon",{disabled:l,full:L}),color:l?P:L?i:p,classPrefix:z},null),j&&h(ve,{size:o,style:{width:r.value+"em"},name:W?A:t,class:ge("icon",["half",{disabled:l,full:!W}]),color:l?P:W?p:i,classPrefix:z},null)])};return Ue(()=>a.modelValue),Ee("touchmove",U,{target:g}),()=>h("div",{ref:g,role:"radiogroup",class:ge({readonly:a.readonly,disabled:a.disabled}),tabindex:a.disabled?void 0:0,"aria-disabled":a.disabled,"aria-readonly":a.readonly,onTouchstartPassive:M},[x.value.map(q)])}});const za=Z(qa),[Ma,fe,Re]=le("signature"),Ua={tips:String,type:ne("png"),penColor:ne("#000"),lineWidth:ze(3),clearButtonText:String,backgroundColor:ne(""),confirmButtonText:String},Ea=()=>{var a;const d=document.createElement("canvas");return!!((a=d.getContext)!=null&&a.call(d,"2d"))};var Aa=O({name:Ma,props:Ua,emits:["submit","clear","start","end","signing"],setup(a,{emit:d,slots:_}){const c=E(),f=E(),g=H(()=>c.value?c.value.getContext("2d"):null),u=Se?Ea():!0;let y=0,x=0,v;const C=()=>{if(!g.value)return!1;g.value.beginPath(),g.value.lineWidth=a.lineWidth,g.value.strokeStyle=a.penColor,v=ue(c),d("start")},V=r=>{if(!g.value)return!1;be(r);const n=r.touches[0],t=n.clientX-(v?.left||0),o=n.clientY-(v?.top||0);g.value.lineCap="round",g.value.lineJoin="round",g.value.lineTo(t,o),g.value.stroke(),d("signing",r)},m=r=>{be(r),d("end")},$=r=>{const n=document.createElement("canvas");if(n.width=r.width,n.height=r.height,a.backgroundColor){const t=n.getContext("2d");T(t)}return r.toDataURL()===n.toDataURL()},T=r=>{r&&a.backgroundColor&&(r.fillStyle=a.backgroundColor,r.fillRect(0,0,y,x))},D=()=>{var r,n;const t=c.value;if(!t)return;const i=$(t)?"":((n=(r={jpg:()=>t.toDataURL("image/jpeg",.8),jpeg:()=>t.toDataURL("image/jpeg",.8)})[a.type])==null?void 0:n.call(r))||t.toDataURL(`image/${a.type}`);d("submit",{image:i,canvas:t})},M=()=>{g.value&&(g.value.clearRect(0,0,y,x),g.value.closePath(),T(g.value)),d("clear")},U=()=>{var r,n,t;if(u&&c.value){const o=c.value,i=Se?window.devicePixelRatio:1;y=o.width=(((r=f.value)==null?void 0:r.offsetWidth)||0)*i,x=o.height=(((n=f.value)==null?void 0:n.offsetHeight)||0)*i,(t=g.value)==null||t.scale(i,i),T(g.value)}},q=()=>{if(g.value){const r=g.value.getImageData(0,0,y,x);U(),g.value.putImageData(r,0,0)}};return Y(Ge,q),Xe(U),ke({resize:q,clear:M,submit:D}),()=>h("div",{class:fe()},[h("div",{class:fe("content"),ref:f},[u?h("canvas",{ref:c,onTouchstartPassive:C,onTouchmove:V,onTouchend:m},null):_.tips?_.tips():h("p",null,[a.tips])]),h("div",{class:fe("footer")},[h(pe,{size:"small",onClick:M},{default:()=>[a.clearButtonText||Re("clear")]}),h(pe,{type:"primary",size:"small",onClick:D},{default:()=>[a.confirmButtonText||Re("confirm")]})])])}});const Fa=Z(Aa),[Na,se]=le("slider"),Ha={min:N(0),max:N(100),step:N(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:ie,buttonSize:ie,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}};var Ia=O({name:Na,props:Ha,emits:["change","dragEnd","dragStart","update:modelValue"],setup(a,{emit:d,slots:_}){let c,f,g;const u=E(),y=[E(),E()],x=E(),v=Me(),C=H(()=>Number(a.max)-Number(a.min)),V=H(()=>{const l=a.vertical?"width":"height";return{background:a.inactiveColor,[l]:Ae(a.barHeight)}}),m=l=>a.range&&Array.isArray(l),$=()=>{const{modelValue:l,min:p}=a;return m(l)?`${(l[1]-l[0])*100/C.value}%`:`${(l-Number(p))*100/C.value}%`},T=()=>{const{modelValue:l,min:p}=a;return m(l)?`${(l[0]-Number(p))*100/C.value}%`:"0%"},D=H(()=>{const p={[a.vertical?"height":"width"]:$(),background:a.activeColor};x.value&&(p.transition="none");const B=()=>a.vertical?a.reverse?"bottom":"top":a.reverse?"right":"left";return p[B()]=T(),p}),M=l=>{const p=+a.min,B=+a.max,z=+a.step;l=Qe(l,p,B);const P=Math.round((l-p)/z)*z;return Ke(p,P)},U=()=>{const l=a.modelValue;m(l)?g=l.map(M):g=M(l)},q=l=>{var p,B;const z=(p=l[0])!=null?p:Number(a.min),P=(B=l[1])!=null?B:Number(a.max);return z>P?[P,z]:[z,P]},r=(l,p)=>{m(l)?l=q(l).map(M):l=M(l),K(l,a.modelValue)||d("update:modelValue",l),p&&!K(l,g)&&d("change",l)},n=l=>{if(l.stopPropagation(),a.disabled||a.readonly)return;U();const{min:p,reverse:B,vertical:z,modelValue:P}=a,F=ue(u),L=()=>z?B?F.bottom-l.clientY:l.clientY-F.top:B?F.right-l.clientX:l.clientX-F.left,W=z?F.height:F.width,j=Number(p)+L()/W*C.value;if(m(P)){const[X,J]=P,Q=(X+J)/2;j<=Q?r([j,J],!0):r([X,j],!0)}else r(j,!0)},t=l=>{a.disabled||a.readonly||(v.start(l),f=a.modelValue,U(),x.value="start")},o=l=>{if(a.disabled||a.readonly)return;x.value==="start"&&d("dragStart",l),be(l,!0),v.move(l),x.value="dragging";const p=ue(u),B=a.vertical?v.deltaY.value:v.deltaX.value,z=a.vertical?p.height:p.width;let P=B/z*C.value;if(a.reverse&&(P=-P),m(g)){const F=a.reverse?1-c:c;f[F]=g[F]+P}else f=g+P;r(f)},i=l=>{a.disabled||a.readonly||(x.value==="dragging"&&(r(f,!0),d("dragEnd",l)),x.value="")},b=l=>typeof l=="number"?se("button-wrapper",["left","right"][l]):se("button-wrapper",a.reverse?"left":"right"),w=(l,p)=>{const B=x.value==="dragging";if(typeof p=="number"){const z=_[p===0?"left-button":"right-button"];let P;if(B&&Array.isArray(f)&&(P=f[0]>f[1]?c^1:c),z)return z({value:l,dragging:B,dragIndex:P})}return _.button?_.button({value:l,dragging:B}):h("div",{class:se("button"),style:Ze(a.buttonSize)},null)},A=l=>{const p=typeof l=="number"?a.modelValue[l]:a.modelValue;return h("div",{ref:y[l??0],role:"slider",class:b(l),tabindex:a.disabled?void 0:0,"aria-valuemin":a.min,"aria-valuenow":p,"aria-valuemax":a.max,"aria-disabled":a.disabled||void 0,"aria-readonly":a.readonly||void 0,"aria-orientation":a.vertical?"vertical":"horizontal",onTouchstartPassive:B=>{typeof l=="number"&&(c=l),t(B)},onTouchend:i,onTouchcancel:i,onClick:Je},[w(p,l)])};return r(a.modelValue),Ue(()=>a.modelValue),y.forEach(l=>{Ee("touchmove",o,{target:l})}),()=>h("div",{ref:u,style:V.value,class:se({vertical:a.vertical,disabled:a.disabled}),onClick:n},[h("div",{class:se("bar"),style:D.value},[a.range?[A(0),A(1)]:A()])])}});const Ya=Z(Ia),[Wa]=le("time-picker"),Pe=a=>/^([01]\d|2[0-3]):([0-5]\d):([0-5]\d)$/.test(a),ja=["hour","minute","second"],Oa=xe({},Fe,{minHour:N(0),maxHour:N(23),minMinute:N(0),maxMinute:N(59),minSecond:N(0),maxSecond:N(59),minTime:{type:String,validator:Pe},maxTime:{type:String,validator:Pe},columnsType:{type:Array,default:()=>["hour","minute"]}});var La=O({name:Wa,props:Oa,emits:["confirm","cancel","change","update:modelValue"],setup(a,{emit:d,slots:_}){const c=E(a.modelValue),f=E(),g=m=>{const $=m.split(":");return ja.map((T,D)=>a.columnsType.includes(T)?$[D]:"00")},u=()=>{var m;return(m=f.value)==null?void 0:m.confirm()},y=()=>c.value,x=H(()=>{let{minHour:m,maxHour:$,minMinute:T,maxMinute:D,minSecond:M,maxSecond:U}=a;if(a.minTime||a.maxTime){const q={hour:0,minute:0,second:0};a.columnsType.forEach((t,o)=>{var i;q[t]=(i=c.value[o])!=null?i:0});const{hour:r,minute:n}=q;if(a.minTime){const[t,o,i]=g(a.minTime);m=t,T=+r<=+m?o:"00",M=+r<=+m&&+n<=+T?i:"00"}if(a.maxTime){const[t,o,i]=g(a.maxTime);$=t,D=+r>=+$?o:"59",U=+r>=+$&&+n>=+D?i:"59"}}return a.columnsType.map(q=>{const{filter:r,formatter:n}=a;switch(q){case"hour":return oe(+m,+$,q,n,r,c.value);case"minute":return oe(+T,+D,q,n,r,c.value);case"second":return oe(+M,+U,q,n,r,c.value);default:return[]}})});Y(c,m=>{K(m,a.modelValue)||d("update:modelValue",m)}),Y(()=>a.modelValue,m=>{m=Ne(m,x.value),K(m,c.value)||(c.value=m)},{immediate:!0});const v=(...m)=>d("change",...m),C=(...m)=>d("cancel",...m),V=(...m)=>d("confirm",...m);return ke({confirm:u,getSelectedTime:y}),()=>h(_e,$e({ref:f,modelValue:c.value,"onUpdate:modelValue":m=>c.value=m,columns:x.value,onChange:v,onCancel:C,onConfirm:V},qe(a,He)),_)}});const Xa=Z(La),Ga=["value","placeholder","onClick"],Ka={style:{width:"100%",padding:"0 10px"}},Za={style:{width:"100%"}},Ja={key:0,style:{"margin-top":"10px","text-align":"center"}},Qa=["src"],et={style:{margin:"16px"}},at=O({name:"BaseForm",__name:"BaseForm",props:{fields:{},initialValues:{default:()=>({})},labelWidth:{default:"6.2em"},labelAlign:{default:"left"},inputAlign:{default:"left"},errorMessageAlign:{default:"left"},showErrorMessage:{type:Boolean,default:!0},validateOnChange:{type:Boolean,default:!0},validateOnBlur:{type:Boolean,default:!0},disabled:{type:Boolean},readonly:{type:Boolean},submitButtonText:{default:"提交"},showSubmitButton:{type:Boolean,default:!0},resetButtonText:{default:"重置"},showResetButton:{type:Boolean,default:!1}},emits:["submit","reset","change","failed","click-field"],setup(a,{expose:d,emit:_}){const c=a,f=_,g=E(),u=De({}),y=De({}),x=()=>{c.fields.forEach(n=>{const t=c.initialValues?.[n.name];t!==void 0?u[n.name]=t:n.value!==void 0?u[n.name]=n.value:["checkbox-group","uploader"].includes(n.type)?u[n.name]=[]:n.type==="switch"?u[n.name]=n.switchConfig?.inactiveValue??!1:u[n.name]=void 0,["date","time","datetime","picker","picker-group","calendar","cascader"].includes(n.type)&&(y[n.name]=!1)})};Y(()=>c.initialValues,n=>{n&&Object.assign(u,n)},{deep:!0,immediate:!0}),x();const v=()=>{f("submit",{...u})},C=n=>{f("failed",n)},V=()=>{g.value?.resetValidation(),x(),f("reset",{...u})},m=(n,t)=>{u[n]=t,f("change",n,t)},$=n=>{const t=u[n.name];if(t==null||t==="")return"";if(n.type==="picker"){if(Array.isArray(t))return t.join("/");const o=n.options?.find(i=>i.value===t);return o?o.text:t}if(n.type==="date"||n.type==="time")return Array.isArray(t)?t.join("-"):t;if(n.type==="calendar"){const o=i=>{if(!i)return"";const b=i.getFullYear(),w=String(i.getMonth()+1).padStart(2,"0"),A=String(i.getDate()).padStart(2,"0");return`${b}-${w}-${A}`};return Array.isArray(t)?t.map(i=>o(i)).join(" 至 "):t instanceof Date?o(t):t}return n.type==="cascader"&&T.value[n.name]||t},T=E({}),D=(n,{selectedValues:t,selectedOptions:o})=>{if(n.type==="picker")o&&o.length>0&&o[0]?.text&&(T.value[n.name]=o.map(i=>i.text).join("/")),m(n.name,t.length===1?t[0]:t);else if(n.type==="date"||n.type==="time"){const i=t.join(n.type==="time"?":":"-");m(n.name,i)}y[n.name]=!1},M=(n,{value:t,selectedOptions:o})=>{m(n.name,t),T.value[n.name]=o.map(i=>i.text).join("/"),y[n.name]=!1},U=(n,t)=>{m(n.name,t),y[n.name]=!1},q=n=>n.type,r=n=>n.options||[];return d({formRef:g,submit:()=>g.value?.submit(),reset:V,validate:n=>g.value?.validate(n),getValues:()=>({...u}),setValues:n=>Object.assign(u,n)}),(n,t)=>{const o=ba,i=pa,b=_e,w=Da,A=Xa,l=wa,p=Ba,B=na,z=ma,P=da,F=ga,L=ia,W=Ca,j=sa,X=ra,J=za,Q=Ya,re=la,We=Fa,we=pe,je=ya;return k(),S(je,{ref_key:"formRef",ref:g,"label-width":a.labelWidth,"label-align":a.labelAlign,"input-align":a.inputAlign,"error-message-align":a.errorMessageAlign,"show-error-message":a.showErrorMessage,"validate-on-change":a.validateOnChange,"validate-on-blur":a.validateOnBlur,disabled:a.disabled,readonly:a.readonly,onSubmit:v,onFailed:C},{default:R(()=>[(k(!0),ae(ce,null,ye(a.fields,e=>(k(),ae(ce,{key:e.name},[["text","textarea","number","tel","digit","email","password","url"].includes(e.type)?(k(),S(o,{key:0,modelValue:u[e.name],"onUpdate:modelValue":s=>u[e.name]=s,name:e.name,label:e.label,type:q(e),placeholder:e.placeholder,required:e.required,disabled:e.disabled,readonly:e.readonly,rules:e.rules,"left-icon":e.leftIcon,"right-icon":e.rightIcon,maxlength:e.maxlength,"show-word-limit":e.showWordLimit,autofocus:e.autofocus,clearable:e.clearable,rows:e.rows,"label-width":e.labelWidth,"input-align":e.inputAlign,"error-message-align":e.errorMessageAlign,class:aa(e.customClass),style:ea(e.customStyle),onClick:e.onClick,onClickInput:e.onClickInput},ta({_:2},[n.$slots[`field-extra-${e.name}`]?{name:"extra",fn:R(()=>[Ce(n.$slots,`field-extra-${e.name}`,{field:e},void 0,!0)]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","name","label","type","placeholder","required","disabled","readonly","rules","left-icon","right-icon","maxlength","show-word-limit","autofocus","clearable","rows","label-width","input-align","error-message-align","class","style","onClick","onClickInput"])):e.type==="search"?(k(),S(o,{key:1,name:e.name,label:e.label,required:e.required,rules:e.rules,"label-width":e.labelWidth,class:"field-no-padding"},{input:R(()=>[h(i,{modelValue:u[e.name],"onUpdate:modelValue":s=>u[e.name]=s,placeholder:e.placeholder,shape:e.searchConfig?.shape,background:e.searchConfig?.background,"action-text":e.searchConfig?.actionText,"show-action":e.searchConfig?.showAction,style:{padding:"0",width:"100%"},onSearch:s=>m(e.name,u[e.name])},null,8,["modelValue","onUpdate:modelValue","placeholder","shape","background","action-text","show-action","onSearch"])]),_:2},1032,["name","label","required","rules","label-width"])):["picker","date","time","cascader","picker-group"].includes(e.type)?(k(),S(o,{key:2,modelValue:T.value[e.name],"onUpdate:modelValue":s=>T.value[e.name]=s,name:e.name,label:e.label,placeholder:e.placeholder,required:e.required,disabled:e.disabled,rules:e.rules,"is-link":"",readonly:"",onClick:s=>!e.disabled&&!e.readonly?y[e.name]=!0:null},{input:R(()=>[G("input",{readonly:"",value:$(e),class:"van-field__control",placeholder:e.placeholder,onClick:s=>!e.disabled&&!e.readonly?y[e.name]=!0:null},null,8,Ga)]),_:2},1032,["modelValue","onUpdate:modelValue","name","label","placeholder","required","disabled","rules","onClick"])):ee("",!0),["picker","date","time","cascader","picker-group"].includes(e.type)?(k(),S(B,{key:3,show:y[e.name],"onUpdate:show":s=>y[e.name]=s,round:"",position:"bottom"},{default:R(()=>[e.type==="picker"?(k(),S(b,{key:0,columns:e.options,title:e.label,onCancel:s=>y[e.name]=!1,onConfirm:s=>D(e,s)},null,8,["columns","title","onCancel","onConfirm"])):e.type==="date"?(k(),S(w,{key:1,modelValue:u[e.name],"onUpdate:modelValue":s=>u[e.name]=s,title:e.datePickerConfig?.title||e.label,"min-date":e.datePickerConfig?.minDate,"max-date":e.datePickerConfig?.maxDate,formatter:e.datePickerConfig?.formatter,filter:e.datePickerConfig?.filter,onCancel:s=>y[e.name]=!1,onConfirm:s=>D(e,s)},null,8,["modelValue","onUpdate:modelValue","title","min-date","max-date","formatter","filter","onCancel","onConfirm"])):e.type==="time"?(k(),S(A,{key:2,modelValue:u[e.name],"onUpdate:modelValue":s=>u[e.name]=s,title:e.datePickerConfig?.title||e.label,"min-time":e.datePickerConfig?.minTime,"max-time":e.datePickerConfig?.maxTime,onCancel:s=>y[e.name]=!1,onConfirm:s=>D(e,s)},null,8,["modelValue","onUpdate:modelValue","title","min-time","max-time","onCancel","onConfirm"])):e.type==="cascader"?(k(),S(l,{key:3,modelValue:u[e.name],"onUpdate:modelValue":s=>u[e.name]=s,title:e.cascaderConfig?.title||e.label,options:r(e),placeholder:e.cascaderConfig?.placeholder,"field-names":e.cascaderConfig?.fieldNames,onClose:s=>y[e.name]=!1,onFinish:s=>M(e,s)},null,8,["modelValue","onUpdate:modelValue","title","options","placeholder","field-names","onClose","onFinish"])):e.type==="picker-group"?(k(),S(p,{key:4,title:e.pickerGroupConfig?.title||e.label,tabs:e.pickerGroupConfig?.tabs||[],"next-step-text":e.pickerGroupConfig?.nextStepText,onCancel:s=>y[e.name]=!1,onConfirm:s=>D(e,{selectedValues:s})},{default:R(()=>[Ce(n.$slots,`picker-group-content-${e.name}`,{},void 0,!0)]),_:2},1032,["title","tabs","next-step-text","onCancel","onConfirm"])):ee("",!0)]),_:2},1032,["show","onUpdate:show"])):e.type==="calendar"?(k(),S(o,{key:4,"model-value":$(e),name:e.name,label:e.label,placeholder:e.placeholder,required:e.required,disabled:e.disabled,rules:e.rules,"is-link":"",readonly:"",onClick:s=>!e.disabled&&!e.readonly?y[e.name]=!0:null},null,8,["model-value","name","label","placeholder","required","disabled","rules","onClick"])):ee("",!0),e.type==="calendar"?(k(),S(z,{key:5,show:y[e.name],"onUpdate:show":s=>y[e.name]=s,type:e.calendarConfig?.type,color:e.calendarConfig?.color,"min-date":e.calendarConfig?.minDate,"max-date":e.calendarConfig?.maxDate,"allow-same-day":e.calendarConfig?.allowSameDay,"show-confirm":e.calendarConfig?.showConfirm,"confirm-text":e.calendarConfig?.confirmText,"first-day-of-week":e.calendarConfig?.firstDayOfWeek,onConfirm:s=>U(e,s)},null,8,["show","onUpdate:show","type","color","min-date","max-date","allow-same-day","show-confirm","confirm-text","first-day-of-week","onConfirm"])):e.type==="radio-group"?(k(),S(o,{key:6,name:e.name,label:e.label,required:e.required,rules:e.rules,disabled:e.disabled},{input:R(()=>[h(F,{modelValue:u[e.name],"onUpdate:modelValue":s=>u[e.name]=s,direction:e.direction||"horizontal",disabled:e.disabled},{default:R(()=>[(k(!0),ae(ce,null,ye(e.options,s=>(k(),S(P,{key:s.value,name:s.value,shape:e.shape,style:{"margin-bottom":"8px","margin-right":"12px"}},{default:R(()=>[te(me(s.text),1)]),_:2},1032,["name","shape"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","direction","disabled"])]),_:2},1032,["name","label","required","rules","disabled"])):e.type==="checkbox-group"?(k(),S(o,{key:7,name:e.name,label:e.label,required:e.required,rules:e.rules,disabled:e.disabled},{input:R(()=>[h(W,{modelValue:u[e.name],"onUpdate:modelValue":s=>u[e.name]=s,direction:e.direction||"horizontal",disabled:e.disabled,max:e.max},{default:R(()=>[(k(!0),ae(ce,null,ye(e.options,s=>(k(),S(L,{key:s.value,name:s.value,shape:e.shape,style:{"margin-bottom":"8px","margin-right":"12px"}},{default:R(()=>[te(me(s.text),1)]),_:2},1032,["name","shape"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","direction","disabled","max"])]),_:2},1032,["name","label","required","rules","disabled"])):e.type==="switch"?(k(),S(o,{key:8,name:e.name,label:e.label,required:e.required,rules:e.rules,disabled:e.disabled,readonly:""},{input:R(()=>[h(j,{modelValue:u[e.name],"onUpdate:modelValue":s=>u[e.name]=s,size:e.switchConfig?.size,"active-color":e.switchConfig?.activeColor,"inactive-color":e.switchConfig?.inactiveColor,"active-value":e.switchConfig?.activeValue,"inactive-value":e.switchConfig?.inactiveValue,disabled:e.disabled,onChange:s=>m(e.name,s)},null,8,["modelValue","onUpdate:modelValue","size","active-color","inactive-color","active-value","inactive-value","disabled","onChange"])]),_:2},1032,["name","label","required","rules","disabled"])):e.type==="stepper"?(k(),S(o,{key:9,name:e.name,label:e.label,required:e.required,rules:e.rules,disabled:e.disabled},{input:R(()=>[h(X,{modelValue:u[e.name],"onUpdate:modelValue":s=>u[e.name]=s,min:e.stepperConfig?.min,max:e.stepperConfig?.max,step:e.stepperConfig?.step,integer:e.stepperConfig?.integer,"decimal-length":e.stepperConfig?.decimalLength,"show-plus":e.stepperConfig?.showPlus,"show-minus":e.stepperConfig?.showMinus,"disable-plus":e.stepperConfig?.disablePlus,"disable-minus":e.stepperConfig?.disableMinus,"disable-input":e.stepperConfig?.disableInput,theme:e.stepperConfig?.theme,"button-size":e.stepperConfig?.buttonSize,"input-width":e.stepperConfig?.inputWidth,disabled:e.disabled},null,8,["modelValue","onUpdate:modelValue","min","max","step","integer","decimal-length","show-plus","show-minus","disable-plus","disable-minus","disable-input","theme","button-size","input-width","disabled"])]),_:2},1032,["name","label","required","rules","disabled"])):e.type==="rate"?(k(),S(o,{key:10,name:e.name,label:e.label,required:e.required,rules:e.rules,disabled:e.disabled},{input:R(()=>[h(J,{modelValue:u[e.name],"onUpdate:modelValue":s=>u[e.name]=s,count:e.rateConfig?.count,size:e.rateConfig?.size,color:e.rateConfig?.color,"void-color":e.rateConfig?.voidColor,icon:e.rateConfig?.icon,"void-icon":e.rateConfig?.voidIcon,"allow-half":e.rateConfig?.allowHalf,character:e.rateConfig?.character,disabled:e.disabled,readonly:e.readonly},null,8,["modelValue","onUpdate:modelValue","count","size","color","void-color","icon","void-icon","allow-half","character","disabled","readonly"])]),_:2},1032,["name","label","required","rules","disabled"])):e.type==="slider"?(k(),S(o,{key:11,name:e.name,label:e.label,required:e.required,rules:e.rules,disabled:e.disabled},{input:R(()=>[G("div",Ka,[h(Q,{modelValue:u[e.name],"onUpdate:modelValue":[s=>u[e.name]=s,s=>m(e.name,s)],min:e.sliderConfig?.min,max:e.sliderConfig?.max,step:e.sliderConfig?.step,"bar-height":e.sliderConfig?.barHeight,"active-color":e.sliderConfig?.activeColor,"inactive-color":e.sliderConfig?.inactiveColor,"button-size":e.sliderConfig?.buttonSize,range:e.sliderConfig?.range,vertical:e.sliderConfig?.vertical,disabled:e.disabled,readonly:e.readonly},null,8,["modelValue","onUpdate:modelValue","min","max","step","bar-height","active-color","inactive-color","button-size","range","vertical","disabled","readonly"])])]),_:2},1032,["name","label","required","rules","disabled"])):e.type==="uploader"?(k(),S(o,{key:12,name:e.name,label:e.label,required:e.required,rules:e.rules,disabled:e.disabled},{input:R(()=>[h(re,{modelValue:u[e.name],"onUpdate:modelValue":s=>u[e.name]=s,accept:e.uploadConfig?.accept,multiple:e.uploadConfig?.multiple,"max-count":e.uploadConfig?.maxCount,"max-size":e.uploadConfig?.maxSize,"preview-size":e.uploadConfig?.previewSize,deletable:e.uploadConfig?.deletable,capture:e.uploadConfig?.capture,disabled:e.disabled,readonly:e.readonly,"after-read":e.uploadConfig?.afterRead,"before-read":e.uploadConfig?.beforeRead},null,8,["modelValue","onUpdate:modelValue","accept","multiple","max-count","max-size","preview-size","deletable","capture","disabled","readonly","after-read","before-read"])]),_:2},1032,["name","label","required","rules","disabled"])):e.type==="signature"?(k(),S(o,{key:13,name:e.name,label:e.label,required:e.required,rules:e.rules,class:"field-no-padding"},{input:R(()=>[G("div",Za,[h(We,{type:e.signatureConfig?.type,"line-width":e.signatureConfig?.lineWidth,"stroke-color":e.signatureConfig?.strokeColor,"background-color":e.signatureConfig?.backgroundColor,"clear-button-text":e.signatureConfig?.clearButtonText,"confirm-button-text":e.signatureConfig?.confirmButtonText,onSubmit:s=>m(e.name,s.image)},null,8,["type","line-width","stroke-color","background-color","clear-button-text","confirm-button-text","onSubmit"]),u[e.name]?(k(),ae("div",Ja,[G("img",{src:u[e.name],style:{"max-width":"100%","max-height":"100px",border:"1px solid #eee"}},null,8,Qa)])):ee("",!0)])]),_:2},1032,["name","label","required","rules"])):Ce(n.$slots,`field-${e.name}`,{key:14,field:e,value:u[e.name],updateValue:m},void 0,!0)],64))),128)),G("div",et,[a.showSubmitButton?(k(),S(we,{key:0,round:"",block:"",type:"primary","native-type":"submit"},{default:R(()=>[te(me(a.submitButtonText),1)]),_:1})):ee("",!0),a.showResetButton?(k(),S(we,{key:1,round:"",block:"",type:"default","native-type":"button",style:{"margin-top":"10px"},onClick:V},{default:R(()=>[te(me(a.resetButtonText),1)]),_:1})):ee("",!0)])]),_:3},8,["label-width","label-align","input-align","error-message-align","show-error-message","validate-on-change","validate-on-blur","disabled","readonly"])}}}),tt=Ye(at,[["__scopeId","data-v-b242016f"]]),nt={class:"form-example-container"},ot={class:"content-wrapper"},lt={style:{padding:"16px"}},rt=O({name:"FormExample",__name:"FormExample",setup(a){const d=E(),_=[{name:"username",label:"用户名",type:"text",placeholder:"请输入用户名",required:!0,maxlength:20,showWordLimit:!0,rules:[{pattern:/^[a-zA-Z0-9_]{3,20}$/,message:"用户名只能包含字母、数字和下划线，长度3-20位"}]},{name:"password",label:"密码",type:"password",placeholder:"请输入密码",required:!0,clearable:!0,rules:[{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d@$!%*?&]{8,}$/,message:"密码至少8位，包含大小写字母和数字"}]},{name:"email",label:"邮箱",type:"email",placeholder:"请输入邮箱地址",required:!0,leftIcon:"envelop-o"},{name:"phone",label:"手机号",type:"tel",placeholder:"请输入手机号",required:!0,rules:[{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号"}]},{name:"bio",label:"个人简介",type:"textarea",placeholder:"请输入个人简介",maxlength:200,showWordLimit:!0,rows:3},{name:"gender",label:"性别",type:"radio-group",required:!0,options:[{text:"男",value:"male"},{text:"女",value:"female"},{text:"其他",value:"other"}]},{name:"hobbies",label:"兴趣爱好",type:"checkbox-group",options:[{text:"阅读",value:"reading"},{text:"运动",value:"sports"},{text:"音乐",value:"music"},{text:"旅行",value:"travel"}]},{name:"city",label:"所在城市",type:"picker",placeholder:"请选择城市",required:!0,options:[{text:"北京",value:"beijing"},{text:"上海",value:"shanghai"},{text:"广州",value:"guangzhou"},{text:"深圳",value:"shenzhen"},{text:"杭州",value:"hangzhou"}]},{name:"region",label:"所在地区",type:"cascader",placeholder:"请选择地区",options:[{text:"北京市",value:"beijing",children:[{text:"东城区",value:"dongcheng"},{text:"西城区",value:"xicheng"},{text:"朝阳区",value:"chaoyang"}]},{text:"上海市",value:"shanghai",children:[{text:"黄浦区",value:"huangpu"},{text:"徐汇区",value:"xuhui"},{text:"长宁区",value:"changning"}]}]},{name:"birthday",label:"生日",type:"date",placeholder:"请选择生日",datePickerConfig:{minDate:new Date(1950,0,1),maxDate:new Date,title:"选择生日"}},{name:"workTime",label:"工作时间",type:"time",placeholder:"请选择时间",datePickerConfig:{minTime:"09:00",maxTime:"18:00",title:"选择工作时间"}},{name:"appointment",label:"预约日期",type:"calendar",placeholder:"请选择预约日期",calendarConfig:{type:"single",color:"#1989fa"}},{name:"dateRange",label:"日期范围",type:"calendar",placeholder:"请选择起止日期",calendarConfig:{type:"range",color:"#07c160",allowSameDay:!0,confirmText:"完成"}},{name:"rating",label:"满意度评分",type:"rate",rateConfig:{count:5,size:"20px",color:"#ffd21e",allowHalf:!0}},{name:"volume",label:"音量",type:"slider",sliderConfig:{min:0,max:100,step:1,activeColor:"#1989fa"}},{name:"quantity",label:"数量",type:"stepper",stepperConfig:{min:1,max:100,step:1,integer:!0}},{name:"notification",label:"接收通知",type:"switch",switchConfig:{activeColor:"#13ce66",inactiveColor:"#ff4949"}},{name:"avatar",label:"头像",type:"uploader",uploadConfig:{maxCount:1,maxSize:2*1024*1024,accept:"image/*",beforeRead:C=>C.size>2*1024*1024?(de("图片大小不能超过2MB"),!1):!0,afterRead:C=>{console.log("Read file:",C)}}},{name:"signature",label:"签名",type:"signature",signatureConfig:{lineWidth:2,strokeColor:"#000",type:"png",clearButtonText:"重签",confirmButtonText:"确认"}}],c={username:"testuser",gender:"male",hobbies:["reading","music"],city:"beijing",rating:4.5,volume:50,quantity:1,notification:!0},f=C=>{console.log("表单提交:",C),oa("提交成功！")},g=C=>{console.log("表单重置:",C),de("表单已重置")},u=(C,V)=>{console.log(`字段 ${C} 变化:`,V)},y=C=>{console.log("表单验证失败:",C),C.errors&&C.errors.length>0&&de(C.errors[0].message)},x=()=>{d.value?.setValues({username:"New Name",volume:80})},v=()=>{console.log(d.value?.getValues()),de("已打印到控制台")};return(C,V)=>{const m=pe;return k(),ae("div",nt,[G("div",ot,[h(tt,{ref_key:"formRef",ref:d,fields:_,"initial-values":c,"label-width":"7em",onSubmit:f,onReset:g,onChange:u,onFailed:y},null,512),G("div",lt,[h(m,{block:"",style:{"margin-bottom":"10px"},onClick:x},{default:R(()=>[...V[0]||(V[0]=[te("设置部分值",-1)])]),_:1}),h(m,{block:"",onClick:v},{default:R(()=>[...V[1]||(V[1]=[te("获取当前值",-1)])]),_:1})])])])}}}),Dt=Ye(rt,[["__scopeId","data-v-18520e15"]]);export{Dt as default};
