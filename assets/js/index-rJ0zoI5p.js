import{T as k,b3 as E,aP as P,aN as _,d as $,m as g,M as D,n as N,c as B,r as w,a9 as O,E as z,i as v,aI as H,e as A,g as C,o as m,ab as L,a as y,ae as x,ac as M,ad as u,ap as V,az as j,ag as F,w as U}from"./index-Dl01RQ6O.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};t.SENTRY_RELEASE={id:"dadf989baaa19ca9a7dda97cefda507d3b8f8f5a"}}catch{}})();try{(function(){var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},s=new t.Error().stack;s&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[s]="b12748ec-8df7-457b-988d-a75ccd37d3c9",t._sentryDebugIdIdentifier="sentry-dbid-b12748ec-8df7-457b-988d-a75ccd37d3c9")})()}catch{}function W(t,s){if(!k||!window.IntersectionObserver)return;const d=new IntersectionObserver(e=>{s(e[0].intersectionRatio>0)},{root:document.body}),n=()=>{t.value&&d.observe(t.value)},l=()=>{t.value&&d.unobserve(t.value)};E(l),P(l),_(n)}const[Y,Z]=B("sticky"),q={zIndex:N,position:D("top"),container:Object,offsetTop:g(0),offsetBottom:g(0)};var G=$({name:Y,props:q,emits:["scroll","change"],setup(t,{emit:s,slots:d}){const n=w(),l=O(n),e=z({fixed:!1,width:0,height:0,transform:0}),c=w(!1),a=v(()=>H(t.position==="top"?t.offsetTop:t.offsetBottom)),I=v(()=>{if(c.value)return;const{fixed:o,height:h,width:i}=e;if(o)return{width:`${i}px`,height:`${h}px`}}),S=v(()=>{if(!e.fixed||c.value)return;const o=A(C(t.zIndex),{width:`${e.width}px`,height:`${e.height}px`,[t.position]:`${a.value}px`});return e.transform&&(o.transform=`translate3d(0, ${e.transform}px, 0)`),o}),T=o=>s("scroll",{scrollTop:o,isFixed:e.fixed}),b=()=>{if(!n.value||x(n))return;const{container:o,position:h}=t,i=u(n),R=F(window);if(e.width=i.width,e.height=i.height,h==="top")if(o){const r=u(o),f=r.bottom-a.value-e.height;e.fixed=a.value>i.top&&r.bottom>0,e.transform=f<0?f:0}else e.fixed=a.value>i.top;else{const{clientHeight:r}=document.documentElement;if(o){const f=u(o),p=r-f.top-a.value-e.height;e.fixed=r-a.value<i.bottom&&r>f.top,e.transform=p<0?-p:0}else e.fixed=r-a.value<i.bottom}T(R)};return m(()=>e.fixed,o=>s("change",o)),L("scroll",b,{target:l,passive:!0}),W(n,b),m([V,j],()=>{!n.value||x(n)||!e.fixed||(c.value=!0,M(()=>{const o=u(n);e.width=o.width,e.height=o.height,c.value=!1}))}),()=>{var o;return y("div",{ref:n,style:I.value},[y("div",{class:Z({fixed:e.fixed&&!c.value}),style:S.value},[(o=d.default)==null?void 0:o.call(d)])])}}});const K=U(G);export{K as S,W as u};
