import{d as g,u as y,A as c,G as m,c as i,a as s,t as d,b as t,g as v,a1 as f,o as u}from"./index-DmRFbs7m.js";import{s as h,a as _}from"./webviewMessage-DVGRaN8u.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"051ca6428b97c6d36ca483b6bd6aaeed95b441f8"}}catch{}})();try{(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},o=new e.Error().stack;o&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[o]="b8be1dd9-8ff3-4577-82a7-f5d7f8b21d1e",e._sentryDebugIdIdentifier="sentry-dbid-b8be1dd9-8ff3-4577-82a7-f5d7f8b21d1e")})()}catch{}const w={style:{"margin-top":"20px"}},x={style:{"min-height":"24px",color:"#666","font-size":"14px"}},T={key:0},k={key:1},E=g({name:"ShopPage",__name:"shop",setup(e){const o=y(),n=c(""),a=c("");async function p(){n.value="",await h("shop")?(n.value="✅ 测试消息已发送",setTimeout(()=>{n.value=""},3e3)):(n.value="❌ 发送失败",setTimeout(()=>{n.value=""},3e3))}async function b(){a.value="",await _({action:"custom",page:"shop",data:{message:'这是一条来自"商城"页面的自定义消息',timestamp:Date.now()}})?(a.value="✅ 自定义消息已发送",setTimeout(()=>{a.value=""},3e3)):(a.value="❌ 发送失败",setTimeout(()=>{a.value=""},3e3))}return m(()=>{}),(l,r)=>(u(),i("div",null,[r[0]||(r[0]=s("h1",null,"商城",-1)),s("div",null," 当前环境："+d(t(o).envInfo?t(v)(t(o).envInfo):"未知"),1),s("div",null,"Token信息："+d(t(o).token||"未登录"),1),s("div",w,[s("div",{style:{display:"flex",gap:"10px","flex-wrap":"wrap","margin-bottom":"10px"}},[s("button",{type:"button",style:{padding:"10px 20px","background-color":"#007aff",color:"white",border:"none","border-radius":"4px",cursor:"pointer"},onClick:p}," 发送测试消息 "),s("button",{type:"button",style:{padding:"10px 20px","background-color":"#34c759",color:"white",border:"none","border-radius":"4px",cursor:"pointer"},onClick:b}," 发送自定义消息 ")]),s("div",x,[t(n)?(u(),i("div",T,d(t(n)),1)):f("",!0),t(a)?(u(),i("div",k,d(t(a)),1)):f("",!0)])])]))}});export{E as default};
